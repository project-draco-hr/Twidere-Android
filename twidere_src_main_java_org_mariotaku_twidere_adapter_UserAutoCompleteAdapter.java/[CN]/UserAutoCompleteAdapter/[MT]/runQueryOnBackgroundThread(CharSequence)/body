{
  if (TextUtils.isEmpty(constraint))   return null;
  final FilterQueryProvider filter=getFilterQueryProvider();
  if (filter != null)   return filter.runQuery(constraint);
  final String query=constraint.toString();
  final String queryEscaped=query.replace("_","^_");
  final long[] nicknameIds=Utils.getMatchedNicknameIds(query,mUserColorNameManager);
  final Expression usersSelection=Expression.or(Expression.likeRaw(new Columns.Column(CachedUsers.SCREEN_NAME),"?||'%'","^"),Expression.likeRaw(new Columns.Column(CachedUsers.NAME),"?||'%'","^"),Expression.in(new Columns.Column(CachedUsers.USER_ID),new RawItemArray(nicknameIds)));
  final String[] selectionArgs=new String[]{queryEscaped,queryEscaped};
  final String[] order={CachedUsers.LAST_SEEN,CachedUsers.SCORE,CachedUsers.SCREEN_NAME,CachedUsers.NAME};
  final boolean[] ascending={false,false,true,true};
  final OrderBy orderBy=new OrderBy(order,ascending);
  final Uri uri=Uri.withAppendedPath(CachedUsers.CONTENT_URI_WITH_SCORE,String.valueOf(mAccountKey));
  return mContext.getContentResolver().query(uri,CachedUsers.COLUMNS,usersSelection.getSQL(),selectionArgs,orderBy.getSQL());
}
