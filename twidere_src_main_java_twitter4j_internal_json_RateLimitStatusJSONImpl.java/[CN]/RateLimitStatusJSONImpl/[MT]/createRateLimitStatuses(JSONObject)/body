{
  final Map<String,RateLimitStatus> map=new HashMap<String,RateLimitStatus>();
  try {
    final JSONObject resources=json.getJSONObject("resources");
    final Iterator<?> resourceKeys=resources.keys();
    while (resourceKeys.hasNext()) {
      final JSONObject resource=resources.getJSONObject((String)resourceKeys.next());
      final Iterator<?> endpointKeys=resource.keys();
      while (endpointKeys.hasNext()) {
        final String endpoint=(String)endpointKeys.next();
        final JSONObject rateLimitStatusJSON=resource.getJSONObject(endpoint);
        final RateLimitStatus rateLimitStatus=new RateLimitStatusJSONImpl(rateLimitStatusJSON);
        map.put(endpoint,rateLimitStatus);
      }
    }
    return Collections.unmodifiableMap(map);
  }
 catch (  final JSONException jsone) {
    throw new TwitterException(jsone);
  }
}
