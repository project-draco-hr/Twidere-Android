{
synchronized (decoderLock) {
    BitmapFactory.Options options=new BitmapFactory.Options();
    options.inSampleSize=sampleSize;
    options.inPreferredConfig=Config.RGB_565;
    Bitmap bitmap=decoder.decodeRegion(sRect,options);
    if (bitmap == null) {
      throw new RuntimeException("Skia image decoder returned null bitmap - image format may not be supported");
    }
    return bitmap;
  }
}
