{
  Intent upIntent=getSupportParentActivityIntent();
  if (upIntent != null) {
    if (supportShouldUpRecreateTask(upIntent)) {
      TaskStackBuilder b=TaskStackBuilder.create(this);
      onCreateSupportNavigateUpTaskStack(b);
      onPrepareSupportNavigateUpTaskStack(b);
      b.startActivities();
      try {
        ActivityCompat.finishAffinity(this);
      }
 catch (      IllegalStateException e) {
        finish();
      }
    }
 else {
      supportNavigateUpTo(upIntent);
    }
    return true;
  }
  return false;
}
