{
  if (AUTHORITY_TWIDERE_CACHE.equals(uri.getAuthority()) && uri.getBooleanQueryParameter(QUERY_PARAM_PREVIEW,false)) {
    BitmapFactory.Options o=new BitmapFactory.Options();
    o.inJustDecodeBounds=true;
    o.inPreferredConfig=Bitmap.Config.RGB_565;
    final ContentResolver cr=context.getContentResolver();
    decodeBitmap(cr,uri,o);
    final DisplayMetrics dm=context.getResources().getDisplayMetrics();
    final int targetSize=Math.min(1024,Math.max(dm.widthPixels,dm.heightPixels));
    o.inSampleSize=TwidereMathUtils.nextPowerOf2((int)Math.max(1,Math.ceil(Math.min(o.outHeight,o.outWidth) / (float)targetSize)));
    o.inJustDecodeBounds=false;
    final Bitmap bitmap=decodeBitmap(cr,uri,o);
    if (bitmap == null)     throw new IOException();
    return bitmap;
  }
  return super.decode(context,uri);
}
