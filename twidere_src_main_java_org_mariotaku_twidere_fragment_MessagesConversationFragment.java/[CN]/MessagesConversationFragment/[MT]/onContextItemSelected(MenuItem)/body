{
  if (!getUserVisibleHint())   return false;
  final ContextMenu.ContextMenuInfo menuInfo=item.getMenuInfo();
  final ExtendedRecyclerView.ContextMenuInfo contextMenuInfo=(ExtendedRecyclerView.ContextMenuInfo)menuInfo;
  ParcelableDirectMessage message=mAdapter.getDirectMessage(contextMenuInfo.getPosition());
  if (message == null)   return false;
switch (item.getItemId()) {
case R.id.copy:
{
      ClipboardUtils.setText(getContext(),message.text_plain);
      return true;
    }
case R.id.delete:
{
    Bundle args=new Bundle();
    args.putParcelable(EXTRA_ACCOUNT,mAccount);
    args.putParcelable(EXTRA_MESSAGE,message);
    DeleteMessageConfirmDialogFragment df=new DeleteMessageConfirmDialogFragment();
    df.setArguments(args);
    df.show(getFragmentManager(),"delete_message_confirm");
    return true;
  }
}
return false;
}
