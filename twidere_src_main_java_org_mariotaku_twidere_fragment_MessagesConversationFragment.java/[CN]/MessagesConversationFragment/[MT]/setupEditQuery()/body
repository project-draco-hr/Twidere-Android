{
  final EditTextEnterHandler queryEnterHandler=EditTextEnterHandler.attach(mEditUserQuery,new EnterListener(){
    @Override public boolean shouldCallListener(){
      final FragmentActivity activity=getActivity();
      if (!(activity instanceof BaseActivity))       return false;
      return ((BaseActivity)activity).getKeyMetaState() == 0;
    }
    @Override public boolean onHitEnter(){
      final FragmentActivity activity=getActivity();
      if (!(activity instanceof BaseActivity))       return false;
      if (((BaseActivity)activity).getKeyMetaState() != 0)       return false;
      final ParcelableCredentials account=(ParcelableCredentials)mAccountSpinner.getSelectedItem();
      if (account == null)       return false;
      mEditText.setAccountKey(account.account_key);
      searchUsers(account.account_key,ParseUtils.parseString(mEditUserQuery.getText()),false);
      return true;
    }
  }
,true);
  queryEnterHandler.addTextChangedListener(new TextWatcher(){
    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){
    }
    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){
    }
    @Override public void afterTextChanged(    Editable s){
      final ParcelableCredentials account=(ParcelableCredentials)mAccountSpinner.getSelectedItem();
      if (account == null)       return;
      mEditText.setAccountKey(account.account_key);
      searchUsers(account.account_key,ParseUtils.parseString(s),true);
    }
  }
);
  mEditUserQuery.addTextChangedListener(new TextWatcher(){
    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){
    }
    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){
    }
    @Override public void afterTextChanged(    Editable s){
      mQueryTextChanged=s.length() == 0;
    }
  }
);
}
