{
  final Set<Long> user_ids=new HashSet<Long>();
  final Set<String> keywords=new HashSet<String>();
  final Set<String> sources=new HashSet<String>();
  final ArrayList<ContentValues> user_values=new ArrayList<ContentValues>();
  final ArrayList<ContentValues> keyword_values=new ArrayList<ContentValues>();
  final ArrayList<ContentValues> source_values=new ArrayList<ContentValues>();
  for (  final FilterItemInfo info : mCheckedFilterItems) {
    final Object value=info.value;
    if (value instanceof ParcelableUserMention) {
      final ParcelableUserMention mention=(ParcelableUserMention)value;
      user_ids.add(mention.id);
      user_values.add(makeFilterdUserContentValues(mention));
    }
 else     if (value instanceof ParcelableStatus) {
      final ParcelableStatus status=(ParcelableStatus)value;
      user_ids.add(status.user_id);
      user_values.add(makeFilterdUserContentValues(status));
    }
 else     if (info.type == FilterItemInfo.FILTER_TYPE_KEYWORD) {
      if (value != null) {
        final String keyword=ParseUtils.parseString(value);
        keywords.add(keyword);
        final ContentValues values=new ContentValues();
        values.put(Filters.Keywords.VALUE,"#" + keyword);
        keyword_values.add(values);
      }
    }
 else     if (info.type == FilterItemInfo.FILTER_TYPE_SOURCE) {
      if (value != null) {
        final String source=ParseUtils.parseString(value);
        sources.add(source);
        final ContentValues values=new ContentValues();
        values.put(Filters.Sources.VALUE,source);
        source_values.add(values);
      }
    }
  }
  final ContentResolver resolver=getContentResolver();
  bulkDelete(resolver,Filters.Users.CONTENT_URI,Filters.Users.USER_ID,user_ids,null,false);
  bulkDelete(resolver,Filters.Keywords.CONTENT_URI,Filters.Keywords.VALUE,keywords,null,true);
  bulkDelete(resolver,Filters.Sources.CONTENT_URI,Filters.Sources.VALUE,sources,null,true);
  bulkInsert(resolver,Filters.Users.CONTENT_URI,user_values);
  bulkInsert(resolver,Filters.Keywords.CONTENT_URI,keyword_values);
  bulkInsert(resolver,Filters.Sources.CONTENT_URI,source_values);
}
