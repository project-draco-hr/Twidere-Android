{
  super.onActivityCreated(savedInstanceState);
  mDrawerCallback=new SimpleDrawerCallback(mRecyclerView);
  final View view=getView();
  if (view == null)   throw new AssertionError();
  final Context context=view.getContext();
  final boolean compact=Utils.isCompactCards(context);
  final int backgroundColor=ThemeUtils.getThemeBackgroundColor(context);
  final int colorRes=TwidereColorUtils.getContrastYIQ(backgroundColor,R.color.bg_refresh_progress_color_light,R.color.bg_refresh_progress_color_dark);
  mSwipeRefreshLayout.setOnRefreshListener(this);
  mSwipeRefreshLayout.setProgressBackgroundColorSchemeResource(colorRes);
  mAdapter=onCreateAdapter(context,compact);
  mLayoutManager=onCreateLayoutManager(context);
  mRecyclerView.setLayoutManager(mLayoutManager);
  mRecyclerView.setHasFixedSize(true);
  if (mSwipeRefreshLayout instanceof AccentSwipeRefreshLayout) {
    ((AccentSwipeRefreshLayout)mSwipeRefreshLayout).setTouchInterceptor(new IExtendedView.TouchInterceptor(){
      @Override public boolean dispatchTouchEvent(      View view,      MotionEvent event){
        return false;
      }
      @Override public boolean onInterceptTouchEvent(      View view,      MotionEvent event){
        if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
          updateRefreshProgressOffset();
        }
        return false;
      }
      @Override public boolean onTouchEvent(      View view,      MotionEvent event){
        return false;
      }
    }
);
  }
  setupRecyclerView(context,compact);
  mRecyclerView.setAdapter(mAdapter);
  mScrollListener=new ContentListScrollListener(this);
  mScrollListener.setTouchSlop(ViewConfiguration.get(context).getScaledTouchSlop());
}
