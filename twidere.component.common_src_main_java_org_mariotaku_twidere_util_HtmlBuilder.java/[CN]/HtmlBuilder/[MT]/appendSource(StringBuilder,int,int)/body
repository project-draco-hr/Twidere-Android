{
  if (sourceIsEscaped == shouldReEscape) {
    for (int i=start; i < end; i++) {
      builder.appendCodePoint(codePoints[i]);
    }
  }
 else   if (shouldReEscape) {
    builder.append(escape(subString(start,end)));
  }
 else {
    builder.append(unescape(subString(start,end)));
  }
}
