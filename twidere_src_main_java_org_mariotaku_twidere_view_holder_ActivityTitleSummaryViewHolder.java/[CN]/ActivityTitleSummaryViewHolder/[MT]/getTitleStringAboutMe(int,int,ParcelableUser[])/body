{
  if (sources == null || sources.length == 0)   return null;
  final Context context=adapter.getContext();
  final boolean nameFirst=adapter.isNameFirst();
  final UserColorNameManager manager=adapter.getUserColorNameManager();
  final Resources resources=context.getResources();
  final Configuration configuration=resources.getConfiguration();
  final SpannableString firstDisplayName=new SpannableString(manager.getDisplayName(sources[0],nameFirst,false));
  firstDisplayName.setSpan(new StyleSpan(Typeface.BOLD),0,firstDisplayName.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
  if (sources.length == 1) {
    final String format=context.getString(stringRes);
    return SpanFormatter.format(configuration.locale,format,firstDisplayName);
  }
 else   if (sources.length == 2) {
    final String format=context.getString(stringResMulti);
    final SpannableString secondDisplayName=new SpannableString(manager.getDisplayName(sources[1],nameFirst,false));
    secondDisplayName.setSpan(new StyleSpan(Typeface.BOLD),0,secondDisplayName.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
    return SpanFormatter.format(configuration.locale,format,firstDisplayName,secondDisplayName);
  }
 else {
    final int othersCount=sources.length - 1;
    final String nOthers=resources.getQuantityString(R.plurals.N_others,othersCount,othersCount);
    final String format=context.getString(stringResMulti);
    return SpanFormatter.format(configuration.locale,format,firstDisplayName,nOthers);
  }
}
