{
  final Context context=adapter.getContext();
  final ParcelableUser[] sources=ParcelableActivityUtils.getAfterFilteredSources(activity);
  final ActivityTitleSummaryMessage message=ActivityTitleSummaryMessage.get(context,adapter.getUserColorNameManager(),activity,sources,activityTypeView.getDefaultColor(),byFriends,adapter.shouldUseStarsForLikes(),adapter.isNameFirst());
  if (message == null) {
    showNotSupported();
    return;
  }
  activityTypeView.setColorFilter(message.getColor(),PorterDuff.Mode.SRC_ATOP);
  activityTypeView.setImageResource(message.getIcon());
  titleView.setText(message.getTitle());
  summaryView.setText(message.getSummary());
  summaryView.setVisibility(summaryView.length() > 0 ? View.VISIBLE : View.GONE);
  timeView.setTime(activity.timestamp);
  if (adapter.shouldShowAccountsColor()) {
    itemContent.drawEnd(activity.account_color);
  }
 else {
    itemContent.drawEnd();
  }
  displayUserProfileImages(sources);
}
