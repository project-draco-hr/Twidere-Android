{
  if (sources == null || sources.length == 0)   return null;
  final Context context=adapter.getContext();
  final Resources resources=context.getResources();
  final Configuration configuration=resources.getConfiguration();
  final UserColorNameManager manager=adapter.getUserColorNameManager();
  final boolean nameFirst=adapter.isNameFirst();
  final SpannableString firstSourceName=new SpannableString(manager.getDisplayName(sources[0],nameFirst,false));
  firstSourceName.setSpan(new StyleSpan(Typeface.BOLD),0,firstSourceName.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
  final String displayName;
  final Object target=targets[0];
  if (target instanceof ParcelableUser) {
    displayName=manager.getDisplayName((ParcelableUser)target,nameFirst,false);
  }
 else   if (target instanceof ParcelableStatus) {
    displayName=manager.getDisplayName((ParcelableStatus)target,nameFirst,false);
  }
 else {
    throw new IllegalArgumentException();
  }
  final SpannableString firstTargetName=new SpannableString(displayName);
  firstTargetName.setSpan(new StyleSpan(Typeface.BOLD),0,firstTargetName.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
  if (sources.length == 1) {
    final String format=context.getString(stringRes);
    return SpanFormatter.format(configuration.locale,format,firstSourceName,firstTargetName);
  }
 else   if (sources.length == 2) {
    final String format=context.getString(stringResMulti);
    final SpannableString secondSourceName=new SpannableString(manager.getDisplayName(sources[1],nameFirst,false));
    secondSourceName.setSpan(new StyleSpan(Typeface.BOLD),0,secondSourceName.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
    return SpanFormatter.format(configuration.locale,format,firstSourceName,secondSourceName,firstTargetName);
  }
 else {
    final int othersCount=sources.length - 1;
    final String nOthers=resources.getQuantityString(R.plurals.N_others,othersCount,othersCount);
    final String format=context.getString(stringResMulti);
    return SpanFormatter.format(configuration.locale,format,firstSourceName,nOthers,firstTargetName);
  }
}
