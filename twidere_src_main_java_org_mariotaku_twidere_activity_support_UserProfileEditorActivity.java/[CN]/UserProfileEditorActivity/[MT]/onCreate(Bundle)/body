{
  super.onCreate(savedInstanceState);
  mAsyncTaskManager=TwidereApplication.getInstance(this).getAsyncTaskManager();
  mLazyImageLoader=TwidereApplication.getInstance(this).getMediaLoaderWrapper();
  final Intent intent=getIntent();
  final long accountId=intent.getLongExtra(EXTRA_ACCOUNT_ID,-1);
  mAccountId=accountId;
  if (!isMyAccount(this,accountId)) {
    finish();
    return;
  }
  final ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setDisplayHomeAsUpEnabled(true);
  }
  setContentView(R.layout.activity_user_profile_editor);
  mEditName.addTextChangedListener(this);
  mEditDescription.addTextChangedListener(this);
  mEditLocation.addTextChangedListener(this);
  mEditUrl.addTextChangedListener(this);
  mProfileImageView.setOnClickListener(this);
  mProfileBannerView.setOnClickListener(this);
  mProfileImageCamera.setOnClickListener(this);
  mProfileImageGallery.setOnClickListener(this);
  mProfileBannerGallery.setOnClickListener(this);
  mProfileBannerRemove.setOnClickListener(this);
  mSetLinkColor.setOnClickListener(this);
  mSetBackgroundColor.setOnClickListener(this);
  if (savedInstanceState != null && savedInstanceState.getParcelable(EXTRA_USER) != null) {
    final ParcelableUser user=savedInstanceState.getParcelable(EXTRA_USER);
    displayUser(user);
    mEditName.setText(savedInstanceState.getString(EXTRA_NAME,user.name));
    mEditLocation.setText(savedInstanceState.getString(EXTRA_LOCATION,user.location));
    mEditDescription.setText(savedInstanceState.getString(EXTRA_DESCRIPTION,user.description_expanded));
    mEditUrl.setText(savedInstanceState.getString(EXTRA_URL,user.url_expanded));
  }
 else {
    getUserInfo();
  }
}
