{
  super.onCreate(savedInstanceState);
  final Intent intent=getIntent();
  final long accountId=intent.getLongExtra(EXTRA_ACCOUNT_ID,-1);
  if (!isMyAccount(this,accountId)) {
    finish();
    return;
  }
  mAsyncTaskManager=TwidereApplication.getInstance(this).getAsyncTaskManager();
  mLazyImageLoader=TwidereApplication.getInstance(this).getMediaLoaderWrapper();
  mAccountId=accountId;
  setContentView(R.layout.activity_user_profile_editor);
  setSupportActionBar(mToolbar);
  ViewUtils.setBackground(mActionBarOverlay,ThemeUtils.getWindowContentOverlay(this));
  ViewUtils.setBackground(mToolbar,ThemeUtils.getSupportActionBarBackground(mToolbar.getContext(),getCurrentThemeResourceId()));
  mEditName.addTextChangedListener(this);
  mEditDescription.addTextChangedListener(this);
  mEditLocation.addTextChangedListener(this);
  mEditUrl.addTextChangedListener(this);
  mProfileImageView.setOnClickListener(this);
  mProfileBannerView.setOnClickListener(this);
  mProfileImageCamera.setOnClickListener(this);
  mProfileImageGallery.setOnClickListener(this);
  mProfileBannerGallery.setOnClickListener(this);
  mProfileBannerRemove.setOnClickListener(this);
  mCancelButton.setOnClickListener(this);
  mDoneButton.setOnClickListener(this);
  mSetLinkColor.setOnClickListener(this);
  mSetBackgroundColor.setOnClickListener(this);
  if (savedInstanceState != null && savedInstanceState.getParcelable(EXTRA_USER) != null) {
    final ParcelableUser user=savedInstanceState.getParcelable(EXTRA_USER);
    displayUser(user);
    mEditName.setText(savedInstanceState.getString(EXTRA_NAME,user.name));
    mEditLocation.setText(savedInstanceState.getString(EXTRA_LOCATION,user.location));
    mEditDescription.setText(savedInstanceState.getString(EXTRA_DESCRIPTION,user.description_expanded));
    mEditUrl.setText(savedInstanceState.getString(EXTRA_URL,user.url_expanded));
  }
 else {
    getUserInfo();
  }
}
