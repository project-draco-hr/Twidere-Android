{
  if (view instanceof IExtendedView) {
    ((IExtendedView)view).setTouchInterceptor(new DummyTouchInterceptor());
  }
  final View windowBackgroundView=view.findViewById(R.id.theme_preview_window_background);
  final View windowContentOverlayView=view.findViewById(R.id.theme_preview_window_content_overlay);
  final View actionBarView=view.findViewById(R.id.actionbar);
  final TextView actionBarTitleView=(TextView)view.findViewById(R.id.actionbar_title);
  final ActionMenuView menuBar=(ActionMenuView)view.findViewById(R.id.menu_bar);
  final View statusContentView=view.findViewById(R.id.theme_preview_status_content);
  final CardView cardView=(CardView)view.findViewById(R.id.card);
  final int defaultTextSize=getDefaultTextSize(context);
  final int titleTextAppearance=ThemeUtils.getTitleTextAppearance(context);
  final int cardBackgroundColor=ThemeUtils.getCardBackgroundColor(context);
  ViewAccessor.setBackground(windowBackgroundView,ThemeUtils.getWindowBackground(context));
  ViewAccessor.setBackground(windowContentOverlayView,ThemeUtils.getWindowContentOverlay(context));
  ViewAccessor.setBackground(actionBarView,ThemeUtils.getActionBarBackground(context,themeRes));
  cardView.setCardBackgroundColor(cardBackgroundColor);
  actionBarTitleView.setTextAppearance(context,titleTextAppearance);
  menuBar.setEnabled(false);
  final MenuInflater inflater=new SupportMenuInflater(context);
  inflater.inflate(R.menu.menu_status,menuBar.getMenu());
  ThemeUtils.wrapMenuIcon(menuBar,MENU_GROUP_STATUS_SHARE);
  if (statusContentView != null) {
    ViewAccessor.setBackground(statusContentView,ThemeUtils.getWindowBackground(context));
    final View profileView=statusContentView.findViewById(R.id.profile_container);
    final ImageView profileImageView=(ImageView)statusContentView.findViewById(R.id.profile_image);
    final TextView nameView=(TextView)statusContentView.findViewById(R.id.name);
    final TextView screenNameView=(TextView)statusContentView.findViewById(R.id.screen_name);
    final TextView textView=(TextView)statusContentView.findViewById(R.id.text);
    final TextView timeSourceView=(TextView)statusContentView.findViewById(R.id.time_source);
    nameView.setTextSize(defaultTextSize * 1.25f);
    textView.setTextSize(defaultTextSize * 1.25f);
    screenNameView.setTextSize(defaultTextSize * 0.85f);
    timeSourceView.setTextSize(defaultTextSize * 0.85f);
    profileView.setBackgroundResource(0);
    textView.setTextIsSelectable(false);
    profileImageView.setImageResource(R.drawable.ic_launcher);
    nameView.setText(TWIDERE_PREVIEW_NAME);
    screenNameView.setText("@" + TWIDERE_PREVIEW_SCREEN_NAME);
    textView.setText(toPlainText(TWIDERE_PREVIEW_TEXT_HTML));
    final String time=formatToLongTimeString(context,System.currentTimeMillis());
    timeSourceView.setText(toPlainText(context.getString(R.string.time_source,time,TWIDERE_PREVIEW_SOURCE)));
  }
}
