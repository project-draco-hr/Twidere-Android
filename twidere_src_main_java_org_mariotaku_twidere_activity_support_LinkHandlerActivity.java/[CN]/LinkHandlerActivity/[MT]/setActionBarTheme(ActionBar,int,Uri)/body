{
  final int themeColor=getCurrentThemeColor();
  final int themeId=getCurrentThemeResourceId();
  final String option=getThemeBackgroundOption();
  int actionBarItemsColor=ThemeUtils.getContrastForegroundColor(this,themeId,themeColor);
  final ActionBarContainer actionBarContainer=(ActionBarContainer)findViewById(R.id.twidere_action_bar_container);
switch (linkId) {
case LINK_ID_SEARCH:
case LINK_ID_USER_LISTS:
case LINK_ID_USER_LIST:
case LINK_ID_FILTERS:
{
      ThemeUtils.applyActionBarBackground(actionBarContainer,this,themeId,themeColor,option,false);
      break;
    }
default :
{
    ThemeUtils.applyActionBarBackground(actionBarContainer,this,themeId,themeColor,option,true);
    break;
  }
}
final boolean isTransparent=ThemeUtils.isTransparentBackground(option);
final int actionBarAlpha=isTransparent ? ThemeUtils.getActionBarAlpha(ThemeUtils.getUserThemeBackgroundAlpha(this)) : 0xFF;
mActionBarWithOverlay.setAlpha(actionBarAlpha / 255f);
}
