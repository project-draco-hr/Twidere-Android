{
  mTwitterWrapper=getApplication().getTwitterWrapper();
  final Bundle bundle=savedInstanceState == null ? getArguments() : savedInstanceState;
  mAccountId=bundle != null ? bundle.getLong(EXTRA_ACCOUNT_ID,-1) : -1;
  final Context wrapped=ThemeUtils.getDialogThemedContext(getActivity());
  final AlertDialog.Builder builder=new AlertDialog.Builder(wrapped);
  final View view=LayoutInflater.from(wrapped).inflate(R.layout.dialog_user_list_detail_editor,null);
  builder.setView(view);
  mEditName=(MaterialEditText)view.findViewById(R.id.name);
  mEditName.addValidator(new UserListNameValidator(getString(R.string.invalid_list_name)));
  mEditDescription=(MaterialEditText)view.findViewById(R.id.description);
  mPublicCheckBox=(CheckBox)view.findViewById(R.id.is_public);
  if (mName != null) {
    mEditName.setText(mName);
  }
  if (mDescription != null) {
    mEditDescription.setText(mDescription);
  }
  mPublicCheckBox.setChecked(mIsPublic);
  builder.setTitle(R.string.new_user_list);
  builder.setPositiveButton(android.R.string.ok,this);
  builder.setNegativeButton(android.R.string.cancel,this);
  return builder.create();
}
