{
  final AsyncTwitterWrapper twitter=getTwitterWrapper();
  final ParcelableUserList userList=mUserList;
  final MenuItem followItem=menu.findItem(MENU_FOLLOW);
  if (followItem != null) {
    followItem.setEnabled(userList != null);
    if (userList == null) {
      followItem.setIcon(android.R.color.transparent);
    }
  }
  if (twitter == null || userList == null)   return;
  final boolean isMyList=userList.user_id == userList.account_id;
  setMenuItemAvailability(menu,MENU_EDIT,isMyList);
  setMenuItemAvailability(menu,MENU_ADD,isMyList);
  setMenuItemAvailability(menu,MENU_DELETE,isMyList);
  final boolean isFollowing=userList.is_following;
  if (followItem != null) {
    followItem.setVisible(!isMyList);
    if (isFollowing) {
      followItem.setIcon(R.drawable.ic_iconic_action_cancel);
      followItem.setTitle(R.string.unsubscribe);
    }
 else {
      followItem.setIcon(R.drawable.ic_iconic_action_add);
      followItem.setTitle(R.string.subscribe);
    }
  }
  menu.removeGroup(MENU_GROUP_USER_LIST_EXTENSION);
  final Intent extensionsIntent=new Intent(INTENT_ACTION_EXTENSION_OPEN_USER_LIST);
  extensionsIntent.setExtrasClassLoader(getActivity().getClassLoader());
  extensionsIntent.putExtra(EXTRA_USER_LIST,mUserList);
  addIntentToMenu(getActivity(),menu,extensionsIntent,MENU_GROUP_USER_LIST_EXTENSION);
}
