{
  final List<ParcelableMedia> list=new ArrayList<ParcelableMedia>();
  final MediaEntity[] medias=entities.getMediaEntities();
  if (medias != null) {
    for (    final MediaEntity media : medias) {
      final URL media_url=media.getMediaURL();
      if (media_url != null) {
        list.add(new ParcelableMedia(media));
      }
    }
  }
  final URLEntity[] urls=entities.getURLEntities();
  if (urls != null) {
    for (    final URLEntity url : urls) {
      final String expanded=ParseUtils.parseString(url.getExpandedURL());
      final String media_url=MediaPreviewUtils.getSupportedLink(expanded);
      if (expanded != null && media_url != null) {
        list.add(new ParcelableMedia(expanded,media_url,url.getStart(),url.getEnd(),TYPE_IMAGE));
      }
    }
  }
  if (list.isEmpty())   return null;
  return list.toArray(new ParcelableMedia[list.size()]);
}
