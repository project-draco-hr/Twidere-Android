{
  final ParcelableMedia media=mMedia[position];
  final Bundle args=new Bundle();
  args.putLong(EXTRA_ACCOUNT_ID,mAccountId);
  args.putParcelable(EXTRA_MEDIA,media);
switch (media.type) {
case ParcelableMedia.Type.TYPE_ANIMATED_GIF:
case ParcelableMedia.Type.TYPE_CARD_ANIMATED_GIF:
{
      args.putBoolean(EXTRA_LOOP,true);
      return Fragment.instantiate(mActivity,VideoPageFragment.class.getName(),args);
    }
case ParcelableMedia.Type.TYPE_VIDEO:
{
    return Fragment.instantiate(mActivity,VideoPageFragment.class.getName(),args);
  }
case ParcelableMedia.Type.TYPE_IMAGE:
{
  if (ANIMATED_GIF_SUPPORTED) {
    return Fragment.instantiate(mActivity,GifSupportedImagePageFragment.class.getName(),args);
  }
  return Fragment.instantiate(mActivity,ImagePageFragment.class.getName(),args);
}
case ParcelableMedia.Type.TYPE_EXTERNAL_PLAYER:
{
return CardBrowserFragment.show(media.media_url != null ? media.media_url : media.url,args);
}
}
return new UnsupportedPageFragment();
}
