{
  if (media == null)   return null;
switch (media.type) {
case ParcelableMedia.TYPE_VIDEO:
case ParcelableMedia.TYPE_ANIMATED_GIF:
{
      if (media.video_info == null)       return null;
      for (      String supportedType : SUPPORTED_VIDEO_TYPES) {
        for (        Variant variant : media.video_info.variants) {
          if (supportedType.equalsIgnoreCase(variant.content_type))           return new Pair<>(variant.url,variant.content_type);
        }
      }
      return null;
    }
case ParcelableMedia.TYPE_CARD_ANIMATED_GIF:
{
    return new Pair<>(media.media_url,"video/mp4");
  }
default :
{
  return null;
}
}
}
