{
  if (media == null)   return null;
switch (media.type) {
case ParcelableMedia.Type.VIDEO:
case ParcelableMedia.Type.ANIMATED_GIF:
{
      if (media.video_info == null) {
        return Pair.create(media.media_url,null);
      }
      for (      String supportedType : SUPPORTED_VIDEO_TYPES) {
        for (        ParcelableMedia.VideoInfo.Variant variant : media.video_info.variants) {
          if (supportedType.equalsIgnoreCase(variant.content_type))           return Pair.create(variant.url,variant.content_type);
        }
      }
      return null;
    }
case ParcelableMedia.Type.CARD_ANIMATED_GIF:
{
    return Pair.create(media.media_url,"video/mp4");
  }
default :
{
  return null;
}
}
}
