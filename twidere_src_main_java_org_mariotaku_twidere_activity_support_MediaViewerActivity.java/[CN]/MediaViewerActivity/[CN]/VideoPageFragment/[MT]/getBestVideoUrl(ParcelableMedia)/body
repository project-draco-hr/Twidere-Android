{
  if (media == null)   return null;
switch (media.type) {
case ParcelableMedia.TYPE_VIDEO:
{
      if (media.video_info == null)       return null;
      for (      String supportedType : SUPPORTED_VIDEO_TYPES) {
        for (        Variant variant : media.video_info.variants) {
          if (supportedType.equalsIgnoreCase(variant.content_type))           return variant.url;
        }
      }
      return null;
    }
case ParcelableMedia.TYPE_CARD_ANIMATED_GIF:
{
    return media.media_url;
  }
default :
{
  return null;
}
}
}
