{
  final File serializationFile=getSerializationFile();
  final List<ParcelableActivity> data=getData();
  if (isFirstLoad() && getTabPosition() >= 0 && serializationFile != null) {
    final List<ParcelableActivity> cached=getCachedData(serializationFile);
    if (cached != null) {
      data.addAll(cached);
      if (mComparator != null) {
        Collections.sort(data,mComparator);
      }
 else {
        Collections.sort(data);
      }
      return new CopyOnWriteArrayList<>(data);
    }
  }
  final List<Activity> activities;
  final boolean truncated;
  final Context context=getContext();
  final SharedPreferences prefs=context.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  final int loadItemLimit=prefs.getInt(KEY_LOAD_ITEM_LIMIT,DEFAULT_LOAD_ITEM_LIMIT);
  try {
    final Paging paging=new Paging();
    paging.setCount(loadItemLimit);
    if (mMaxId > 0) {
      paging.setMaxId(mMaxId);
    }
    if (mSinceId > 0) {
      paging.setSinceId(mSinceId);
    }
    activities=new ArrayList<>();
    truncated=truncateActivities(getActivities(getTwitter(),paging),activities,mSinceId);
  }
 catch (  final TwitterException e) {
    e.printStackTrace();
    return new CopyOnWriteArrayList<>(data);
  }
  for (  final Activity activity : activities) {
    final long id=activity.getMaxPosition();
    deleteStatus(data,id);
    data.add(new ParcelableActivity(activity,mAccountIds));
  }
  final ParcelableActivity[] array=data.toArray(new ParcelableActivity[data.size()]);
  if (mComparator != null) {
    Collections.sort(data,mComparator);
  }
 else {
    Collections.sort(data);
  }
  saveCachedData(serializationFile,data);
  return new CopyOnWriteArrayList<>(data);
}
