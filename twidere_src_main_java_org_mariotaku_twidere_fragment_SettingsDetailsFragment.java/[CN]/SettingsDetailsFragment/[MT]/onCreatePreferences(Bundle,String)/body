{
  final PreferenceManager preferenceManager=getPreferenceManager();
  preferenceManager.setSharedPreferencesName(SHARED_PREFERENCES_NAME);
  final PreferenceScreen defaultScreen=getPreferenceScreen();
  final PreferenceScreen preferenceScreen;
  if (defaultScreen != null) {
    defaultScreen.removeAll();
    preferenceScreen=defaultScreen;
  }
 else {
    preferenceScreen=preferenceManager.createPreferenceScreen(getActivity());
  }
  setPreferenceScreen(preferenceScreen);
  final Bundle args=getArguments();
  final Object rawResId=args.get(EXTRA_RESID);
  final int resId;
  if (rawResId instanceof Integer) {
    resId=(Integer)rawResId;
  }
 else   if (rawResId instanceof String) {
    resId=Utils.getResId(getActivity(),(String)rawResId);
  }
 else {
    resId=0;
  }
  if (resId != 0) {
    addPreferencesFromResource(resId);
  }
}
