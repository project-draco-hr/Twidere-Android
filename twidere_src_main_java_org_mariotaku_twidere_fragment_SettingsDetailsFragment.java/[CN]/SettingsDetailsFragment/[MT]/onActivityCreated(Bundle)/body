{
  super.onActivityCreated(savedInstanceState);
  final PreferenceScreen defaultScreen=getPreferenceScreen();
  final PreferenceScreen preferenceScreen;
  if (defaultScreen != null) {
    defaultScreen.removeAll();
    preferenceScreen=defaultScreen;
  }
 else {
    preferenceScreen=getPreferenceManager().createPreferenceScreen(getActivity());
  }
  setPreferenceScreen(preferenceScreen);
  final Bundle args=getArguments();
  final Object rawResId=args.get(EXTRA_RESID);
  final int resId;
  if (rawResId instanceof Integer) {
    resId=(Integer)rawResId;
  }
 else   if (rawResId instanceof String) {
    resId=Utils.getResId(getActivity(),(String)rawResId);
  }
 else {
    resId=0;
  }
  if (resId != 0) {
    addPreferencesFromResource(resId);
  }
  final Context context=preferenceScreen.getContext();
  final Intent hiddenEntryIntent=new Intent(INTENT_ACTION_HIDDEN_SETTINGS_ENTRY);
  final PackageManager pm=context.getPackageManager();
  for (  ResolveInfo info : pm.queryIntentActivities(hiddenEntryIntent,PackageManager.MATCH_DEFAULT_ONLY)) {
    final Preference preference=new Preference(context);
    final Intent intent=new Intent(INTENT_ACTION_HIDDEN_SETTINGS_ENTRY);
    intent.setPackage(info.resolvePackageName);
    intent.setClassName(info.activityInfo.packageName,info.activityInfo.name);
    preference.setIntent(intent);
    preference.setTitle(info.loadLabel(pm));
    preferenceScreen.addPreference(preference);
  }
}
