{
  boolean result=false;
  if (window != null) {
    WindowManager.LayoutParams lp=window.getAttributes();
    int trans_status=0;
    Field flags;
    if (android.os.Build.VERSION.SDK_INT < 19) {
      try {
        trans_status=1 << 6;
        flags=lp.getClass().getDeclaredField("meizuFlags");
        flags.setAccessible(true);
        int value=flags.getInt(lp);
        if (immersive) {
          value=value | trans_status;
        }
 else {
          value=value & ~trans_status;
        }
        flags.setInt(lp,value);
        result=true;
      }
 catch (      Exception e) {
        Log.e(TAG,"setImmersedWindow: failed");
      }
    }
 else {
      lp.flags|=WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS;
      window.setAttributes(lp);
      result=true;
    }
  }
  return result;
}
