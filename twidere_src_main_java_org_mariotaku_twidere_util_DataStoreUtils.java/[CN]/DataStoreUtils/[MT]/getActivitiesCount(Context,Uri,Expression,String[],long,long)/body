{
  if (context == null)   return 0;
  final RawItemArray idsIn;
  if (accountIds == null || accountIds.length == 0 || (accountIds.length == 1 && accountIds[0] < 0)) {
    idsIn=new RawItemArray(getActivatedAccountIds(context));
  }
 else {
    idsIn=new RawItemArray(accountIds);
  }
  Expression[] expressions;
  if (extraWhere != null) {
    expressions=new Expression[4];
    expressions[3]=extraWhere;
  }
 else {
    expressions=new Expression[3];
  }
  expressions[0]=Expression.in(new Column(Activities.ACCOUNT_ID),idsIn);
  expressions[1]=Expression.greaterThan(Activities.TIMESTAMP,sinceTimestamp);
  expressions[2]=buildActivityFilterWhereClause(getTableNameByUri(uri),null);
  final Expression selection=Expression.and(expressions);
  return queryCount(context,uri,selection.getSQL(),extraWhereArgs);
}
