{
  publishProgress(new Runnable(){
    @Override public void run(){
      final SignInActivity activity=activityRef.get();
      if (activity == null)       return;
      activity.dismissDialogFragment(FRAGMENT_TAG_SIGN_IN_PROGRESS);
    }
  }
);
  publishProgress(new Runnable(){
    @Override public void run(){
      final SignInActivity activity=activityRef.get();
      if (activity == null)       return;
      activity.executeAfterFragmentResumed(new Action(){
        @Override public void execute(        IExtendedActivity activity){
          final SignInActivity sia=(SignInActivity)activity;
          final InputLoginVerificationDialogFragment df=new InputLoginVerificationDialogFragment();
          df.setCancelable(false);
          df.setCallback(InputLoginVerificationCallback.this);
          df.setChallengeType(challengeType);
          df.show(sia.getSupportFragmentManager(),null);
        }
      }
);
    }
  }
);
  while (!isChallengeFinished) {
    try {
      Thread.sleep(50);
    }
 catch (    InterruptedException e) {
    }
  }
  publishProgress(new Runnable(){
    @Override public void run(){
      final SignInActivity activity=activityRef.get();
      if (activity == null)       return;
      activity.showSignInProgressDialog();
    }
  }
);
  return challengeResponse;
}
