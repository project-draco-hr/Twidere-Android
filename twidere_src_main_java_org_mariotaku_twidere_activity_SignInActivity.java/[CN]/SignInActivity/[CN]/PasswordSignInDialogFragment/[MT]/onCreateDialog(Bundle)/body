{
  final AlertDialog.Builder builder=new AlertDialog.Builder(getContext());
  builder.setPositiveButton(R.string.sign_in,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      AlertDialog alertDialog=(AlertDialog)dialog;
      EditText editUsername=(EditText)alertDialog.findViewById(R.id.username);
      EditText editPassword=(EditText)alertDialog.findViewById(R.id.password);
      SignInActivity activity=(SignInActivity)getActivity();
      activity.setUsernamePassword(String.valueOf(editUsername.getText()),String.valueOf(editPassword.getText()));
      activity.doLogin();
    }
  }
);
  builder.setNegativeButton(android.R.string.cancel,null);
  builder.setView(R.layout.dialog_password_sign_in);
  final AlertDialog alertDialog=builder.create();
  alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){
    @Override public void onShow(    DialogInterface dialog){
      final MaterialDialog materialDialog=(MaterialDialog)dialog;
      final EditText editUsername=(EditText)materialDialog.findViewById(R.id.username);
      final EditText editPassword=(EditText)materialDialog.findViewById(R.id.password);
      TextWatcher textWatcher=new TextWatcher(){
        @Override public void beforeTextChanged(        CharSequence s,        int start,        int count,        int after){
        }
        @Override public void onTextChanged(        CharSequence s,        int start,        int before,        int count){
          MDButton button=materialDialog.getActionButton(DialogAction.POSITIVE);
          if (button == null)           return;
          button.setEnabled(editUsername.length() > 0 && editPassword.length() > 0);
        }
        @Override public void afterTextChanged(        Editable s){
        }
      }
;
      editUsername.addTextChangedListener(textWatcher);
      editPassword.addTextChangedListener(textWatcher);
    }
  }
);
  return alertDialog;
}
