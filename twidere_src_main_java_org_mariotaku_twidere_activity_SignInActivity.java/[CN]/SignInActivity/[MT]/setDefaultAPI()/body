{
  final long apiLastChange=preferences.getLong(KEY_API_LAST_CHANGE,mAPIChangeTimestamp);
  final boolean defaultApiChanged=apiLastChange != mAPIChangeTimestamp;
  final String apiUrlFormat=Utils.getNonEmptyString(preferences,KEY_API_URL_FORMAT,DEFAULT_TWITTER_API_URL_FORMAT);
  final int authType=preferences.getInt(KEY_AUTH_TYPE,AuthType.OAUTH);
  final boolean sameOAuthSigningUrl=preferences.getBoolean(KEY_SAME_OAUTH_SIGNING_URL,false);
  final boolean noVersionSuffix=preferences.getBoolean(KEY_NO_VERSION_SUFFIX,false);
  final String consumerKey=Utils.getNonEmptyString(preferences,KEY_CONSUMER_KEY,TWITTER_CONSUMER_KEY);
  final String consumerSecret=Utils.getNonEmptyString(preferences,KEY_CONSUMER_SECRET,TWITTER_CONSUMER_SECRET);
  if (TextUtils.isEmpty(mAPIUrlFormat) || defaultApiChanged) {
    mAPIUrlFormat=apiUrlFormat;
  }
  if (defaultApiChanged) {
    mAuthType=authType;
  }
  if (defaultApiChanged) {
    mSameOAuthSigningUrl=sameOAuthSigningUrl;
  }
  if (defaultApiChanged) {
    mNoVersionSuffix=noVersionSuffix;
  }
  if (TextUtils.isEmpty(mConsumerKey) || defaultApiChanged) {
    mConsumerKey=consumerKey;
  }
  if (TextUtils.isEmpty(mConsumerSecret) || defaultApiChanged) {
    mConsumerSecret=consumerSecret;
  }
  if (defaultApiChanged) {
    mAPIChangeTimestamp=apiLastChange;
  }
}
