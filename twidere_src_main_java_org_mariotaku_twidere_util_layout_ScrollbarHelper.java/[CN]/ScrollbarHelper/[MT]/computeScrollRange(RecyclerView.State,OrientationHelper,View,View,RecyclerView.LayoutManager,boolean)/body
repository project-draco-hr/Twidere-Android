{
  if (lm.getChildCount() == 0 || state.getItemCount() == 0 || startChild == null || endChild == null) {
    return 0;
  }
  if (!smoothScrollbarEnabled) {
    return state.getItemCount();
  }
  final int laidOutArea=orientation.getDecoratedEnd(endChild) - orientation.getDecoratedStart(startChild);
  final int laidOutRange=Math.abs(lm.getPosition(startChild) - lm.getPosition(endChild)) + 1;
  return (int)((float)laidOutArea / laidOutRange * state.getItemCount());
}
