{
  if (lm.getChildCount() == 0 || state.getItemCount() == 0 || startChild == null || endChild == null) {
    return 0;
  }
  if (!smoothScrollbarEnabled) {
    return Math.abs(lm.getPosition(startChild) - lm.getPosition(endChild)) + 1;
  }
  final int extend=orientation.getDecoratedEnd(endChild) - orientation.getDecoratedStart(startChild);
  return Math.min(orientation.getTotalSpace(),extend);
}
