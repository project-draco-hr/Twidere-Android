{
  final Intent queryIntent=new Intent(getIntentAction());
  final List<ResolveInfo> infoList=mPackageManager.queryIntentServices(queryIntent,0);
  final int infoListSize=infoList.size();
  final CharSequence[] entries=new CharSequence[infoListSize + 1], values=new CharSequence[infoListSize + 1];
  entries[0]=getNoneEntry();
  values[0]="";
  for (int i=0; i < infoListSize; i++) {
    final ResolveInfo info=infoList.get(i);
    entries[i + 1]=info.loadLabel(mPackageManager);
    values[i + 1]=new ComponentName(info.serviceInfo.packageName,info.serviceInfo.name).flattenToString();
  }
  setEntries(entries);
  setEntryValues(values);
}
