{
  final DraftViewHolder holder=(DraftViewHolder)view.getTag();
  final long[] accountIds=TwidereArrayUtils.parseLongArray(cursor.getString(mIndices.account_keys),',');
  final String text=cursor.getString(mIndices.text);
  final ParcelableMediaUpdate[] mediaUpdates=JsonSerializer.parseArray(cursor.getString(mIndices.media),ParcelableMediaUpdate.class);
  final long timestamp=cursor.getLong(mIndices.timestamp);
  String actionType=cursor.getString(mIndices.action_type);
  final String actionName=getActionName(context,actionType);
  holder.media_preview_container.setStyle(mMediaPreviewStyle);
  if (actionType == null) {
    actionType=Draft.Action.UPDATE_STATUS;
  }
switch (actionType) {
case Draft.Action.UPDATE_STATUS:
case Draft.Action.UPDATE_STATUS_COMPAT_1:
case Draft.Action.UPDATE_STATUS_COMPAT_2:
case Draft.Action.REPLY:
case Draft.Action.QUOTE:
{
      final ParcelableMedia[] media=ParcelableMediaUtils.fromMediaUpdates(mediaUpdates);
      holder.media_preview_container.setVisibility(View.VISIBLE);
      holder.media_preview_container.displayMedia(media,mImageLoader,null,-1,null,mMediaLoadingHandler);
      break;
    }
default :
{
    holder.media_preview_container.setVisibility(View.GONE);
    break;
  }
}
holder.content.drawEnd(DataStoreUtils.getAccountColors(context,accountIds));
holder.setTextSize(mTextSize);
final boolean emptyContent=TextUtils.isEmpty(text);
if (emptyContent) {
holder.text.setText(R.string.empty_content);
}
 else {
holder.text.setText(text);
}
holder.text.setTypeface(holder.text.getTypeface(),emptyContent ? Typeface.ITALIC : Typeface.NORMAL);
if (timestamp > 0) {
final String timeString=Utils.formatSameDayTime(context,timestamp);
holder.time.setText(context.getString(R.string.action_name_saved_at_time,actionName,timeString));
}
 else {
holder.time.setText(actionName);
}
}
