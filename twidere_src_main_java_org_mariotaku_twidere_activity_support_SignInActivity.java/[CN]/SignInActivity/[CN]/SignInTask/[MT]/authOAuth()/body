{
  final SignInActivity activity=activityRef.get();
  if (activity == null)   return new SignInResponse(false,false,null);
  Endpoint endpoint=TwitterAPIFactory.getOAuthEndpoint(apiUrlFormat,"api",null,sameOAuthSigningUrl);
  OAuthAuthorization auth=new OAuthAuthorization(consumerKey.getOauthToken(),consumerKey.getOauthTokenSecret());
  final TwitterOAuth oauth=TwitterAPIFactory.getInstance(activity,endpoint,auth,TwitterOAuth.class);
  final OAuthPasswordAuthenticator authenticator=new OAuthPasswordAuthenticator(oauth,verificationCallback,userAgent);
  final OAuthToken accessToken=authenticator.getOAuthAccessToken(username,password);
  final long userId=accessToken.getUserId();
  if (userId <= 0)   return new SignInResponse(false,false,null);
  return getOAuthSignInResponse(activity,accessToken,userId,ParcelableCredentials.AUTH_TYPE_OAUTH);
}
