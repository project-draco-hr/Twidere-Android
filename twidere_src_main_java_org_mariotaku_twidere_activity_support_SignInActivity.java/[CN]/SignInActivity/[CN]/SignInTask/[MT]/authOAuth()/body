{
  final TwitterOAuth oauth=new TwitterFactory(conf).getInstance(new OAuthAuthorization(conf.getOAuthConsumerKey(),conf.getOAuthConsumerSecret()),TwitterOAuth.class);
  final OAuthPasswordAuthenticator authenticator=new OAuthPasswordAuthenticator(oauth);
  final OAuthToken accessToken=authenticator.getOAuthAccessToken(username,password);
  final long user_id=accessToken.getUserId();
  if (user_id <= 0)   return new SignInResponse(false,false,null);
  if (isUserLoggedIn(context,user_id))   return new SignInResponse(true,false,null);
  final Twitter twitter=new TwitterFactory(conf).getInstance(new OAuthAuthorization(conf.getOAuthConsumerKey(),conf.getOAuthConsumerSecret(),accessToken),Twitter.class);
  final User user=twitter.verifyCredentials();
  final int color=analyseUserProfileColor(user);
  return new SignInResponse(conf,accessToken,user,Accounts.AUTH_TYPE_OAUTH,color,api_url_format,same_oauth_signing_url,no_version_suffix);
}
