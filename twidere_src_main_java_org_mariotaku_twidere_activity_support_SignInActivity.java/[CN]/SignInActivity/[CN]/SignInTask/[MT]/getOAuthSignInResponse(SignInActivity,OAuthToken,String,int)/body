{
  final OAuthAuthorization auth=new OAuthAuthorization(consumerKey.getOauthToken(),consumerKey.getOauthTokenSecret(),accessToken);
  final Endpoint endpoint=TwitterAPIFactory.getOAuthRestEndpoint(apiUrlFormat,sameOAuthSigningUrl,noVersionSuffix);
  final Twitter twitter=TwitterAPIFactory.getInstance(activity,endpoint,auth,Twitter.class);
  final User user=twitter.verifyCredentials();
  final int color=analyseUserProfileColor(user);
  return new SignInResponse(isUserLoggedIn(activity,userId),auth,user,authType,color,apiUrlFormat,sameOAuthSigningUrl,noVersionSuffix,detectAccountType(twitter,user));
}
