{
  final MenuItem itemBrowser=menu.findItem(MENU_OPEN_IN_BROWSER);
  if (itemBrowser != null) {
    final boolean is_oauth=mAuthType == Accounts.AUTH_TYPE_OAUTH;
    itemBrowser.setVisible(is_oauth);
    itemBrowser.setEnabled(is_oauth);
  }
  final boolean result=super.onPrepareOptionsMenu(menu);
  if (!shouldSetActionItemColor())   return result;
  final Toolbar toolbar=peekActionBarToolbar();
  if (toolbar != null) {
    final int themeColor=getCurrentThemeColor();
    final int themeId=getCurrentThemeResourceId();
    final int itemColor=ThemeUtils.getContrastActionBarItemColor(this,themeId,themeColor);
    ThemeUtils.setActionBarOverflowColor(toolbar,itemColor);
    ThemeUtils.wrapToolbarMenuIcon(ViewSupport.findViewByType(toolbar,ActionMenuView.class),itemColor,itemColor);
  }
  return result;
}
