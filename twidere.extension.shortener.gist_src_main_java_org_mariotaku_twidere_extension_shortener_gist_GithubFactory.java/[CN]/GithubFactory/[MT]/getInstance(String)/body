{
  final RestAPIFactory<GithubException> factory=new RestAPIFactory<>();
  factory.setEndpoint(new Endpoint("https://api.github.com/"));
  factory.setHttpClient(new OkHttpRestClient(new OkHttpClient()));
  factory.setAuthorization(new Authorization(){
    @Override public String getHeader(    Endpoint endpoint,    RestRequest restRequest){
      return "token " + apiKey;
    }
    @Override public boolean hasAuthorization(){
      return apiKey != null;
    }
  }
);
  factory.setExceptionFactory(new GithubExceptionFactory());
  factory.setRestConverterFactory(new GithubConverterFactory());
  return factory.build(Github.class);
}
