{
  super.drawableStateChanged();
  final Drawable d=getBackground();
  if (d != null && d.isStateful()) {
    final int[] state=getDrawableState();
    d.setState(state);
    final Drawable current=d.getCurrent();
    if (current instanceof TransitionDrawable) {
      final TransitionDrawable td=(TransitionDrawable)current;
      if (ArrayUtils.contains(state,android.R.attr.state_pressed)) {
        td.startTransition(ViewConfiguration.getLongPressTimeout());
      }
 else {
        td.resetTransition();
      }
    }
  }
}
