{
  final String action=intent.getAction();
  final boolean isWifi=Utils.isOnWifi(context.getApplicationContext());
  final boolean isCharging=ProfilingUtil.isCharging(context.getApplicationContext());
  if (WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION.equals(action)) {
    final boolean wifi=intent.getBooleanExtra(WifiManager.EXTRA_SUPPLICANT_CONNECTED,false);
    ProfilingUtil.profile(context,ProfilingUtil.FILE_NAME_WIFI,wifi ? "connected" : "disconnected");
  }
  if (isWifi && isCharging) {
    new UploadTask(context).execute();
  }
}
