{
  final String action=intent.getAction();
  if (INTENT_ACTION_REPLY.equals(action)) {
    if (mInReplyToStatus == null)     return false;
    final String display_name=UserColorNameUtils.getDisplayName(this,mInReplyToStatus.user_id,mInReplyToStatus.user_name,mInReplyToStatus.user_screen_name);
    setTitle(getString(R.string.reply_to,display_name));
  }
 else   if (INTENT_ACTION_QUOTE.equals(action)) {
    if (mInReplyToStatus == null)     return false;
    final String display_name=UserColorNameUtils.getDisplayName(this,mInReplyToStatus.user_id,mInReplyToStatus.user_name,mInReplyToStatus.user_screen_name);
    setTitle(getString(R.string.quote_user,display_name));
    mSubtitleView.setVisibility(mInReplyToStatus.user_is_protected && mInReplyToStatus.account_id != mInReplyToStatus.user_id ? View.VISIBLE : View.GONE);
  }
 else   if (INTENT_ACTION_EDIT_DRAFT.equals(action)) {
    if (mDraftItem == null)     return false;
    setTitle(R.string.edit_draft);
  }
 else   if (INTENT_ACTION_MENTION.equals(action)) {
    if (mMentionUser == null)     return false;
    final String display_name=UserColorNameUtils.getDisplayName(this,mMentionUser.id,mMentionUser.name,mMentionUser.screen_name);
    setTitle(getString(R.string.mention_user,display_name));
  }
 else   if (INTENT_ACTION_REPLY_MULTIPLE.equals(action)) {
    setTitle(R.string.reply);
  }
 else   if (Intent.ACTION_SEND.equals(action) || Intent.ACTION_SEND_MULTIPLE.equals(action)) {
    setTitle(R.string.share);
  }
 else {
    setTitle(R.string.compose);
  }
  return true;
}
