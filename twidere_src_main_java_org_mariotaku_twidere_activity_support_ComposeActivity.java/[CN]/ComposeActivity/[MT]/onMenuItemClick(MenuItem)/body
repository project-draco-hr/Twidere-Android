{
switch (item.getItemId()) {
case R.id.take_photo:
{
      takePhoto();
      break;
    }
case R.id.add_image:
case R.id.add_image_sub_item:
{
    pickImage();
    break;
  }
case R.id.add_location:
{
  toggleLocation();
  break;
}
case R.id.drafts:
{
Utils.openDrafts(this);
break;
}
case R.id.delete:
{
AsyncTaskUtils.executeTask(new DeleteMediaTask(this));
break;
}
case R.id.toggle_sensitive:
{
if (!hasMedia()) return false;
mIsPossiblySensitive=!mIsPossiblySensitive;
setMenu();
updateTextCount();
break;
}
default :
{
final Intent intent=item.getIntent();
if (intent != null) {
try {
final String action=intent.getAction();
if (INTENT_ACTION_EXTENSION_COMPOSE.equals(action)) {
final AccountKey[] accountKeys=mAccountsAdapter.getSelectedAccountKeys();
intent.putExtra(EXTRA_TEXT,ParseUtils.parseString(mEditText.getText()));
intent.putExtra(EXTRA_ACCOUNT_IDS,AccountKey.getIds(accountKeys));
intent.putExtra(EXTRA_ACCOUNT_KEYS,accountKeys);
if (accountKeys.length > 0) {
  final AccountKey accountKey=accountKeys[0];
  intent.putExtra(EXTRA_NAME,DataStoreUtils.getAccountName(this,accountKey));
  intent.putExtra(EXTRA_SCREEN_NAME,DataStoreUtils.getAccountScreenName(this,accountKey));
}
if (mInReplyToStatus != null) {
  intent.putExtra(EXTRA_IN_REPLY_TO_ID,mInReplyToStatus.id);
  intent.putExtra(EXTRA_IN_REPLY_TO_NAME,mInReplyToStatus.user_name);
  intent.putExtra(EXTRA_IN_REPLY_TO_SCREEN_NAME,mInReplyToStatus.user_screen_name);
}
startActivityForResult(intent,REQUEST_EXTENSION_COMPOSE);
}
 else if (INTENT_ACTION_EXTENSION_EDIT_IMAGE.equals(action)) {
}
 else {
startActivity(intent);
}
}
 catch (final ActivityNotFoundException e) {
Log.w(LOGTAG,e);
return false;
}
}
break;
}
}
return true;
}
