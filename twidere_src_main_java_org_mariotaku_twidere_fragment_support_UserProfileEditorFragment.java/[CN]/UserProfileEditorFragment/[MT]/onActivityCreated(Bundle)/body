{
  super.onActivityCreated(savedInstanceState);
  setHasOptionsMenu(true);
  final TwidereApplication application=TwidereApplication.getInstance(getActivity());
  mAsyncTaskManager=application.getAsyncTaskManager();
  final Bundle args=getArguments();
  final long accountId=args.getLong(EXTRA_ACCOUNT_ID,-1);
  mAccountId=accountId;
  if (!Utils.isMyAccount(getActivity(),accountId)) {
    getActivity().finish();
    return;
  }
  final TwitterValidatorMETLengthChecker lengthChecker=new TwitterValidatorMETLengthChecker(new Validator());
  mEditName.addTextChangedListener(this);
  mEditDescription.addTextChangedListener(this);
  mEditLocation.addTextChangedListener(this);
  mEditUrl.addTextChangedListener(this);
  mEditDescription.setLengthChecker(lengthChecker);
  mProfileImageView.setOnClickListener(this);
  mProfileBannerView.setOnClickListener(this);
  mEditProfileBanner.setOnClickListener(this);
  mEditProfileImage.setOnClickListener(this);
  mSetLinkColor.setOnClickListener(this);
  mSetBackgroundColor.setOnClickListener(this);
  if (savedInstanceState != null && savedInstanceState.getParcelable(EXTRA_USER) != null) {
    final ParcelableUser user=savedInstanceState.getParcelable(EXTRA_USER);
    displayUser(user);
    mEditName.setText(savedInstanceState.getString(EXTRA_NAME,user.name));
    mEditLocation.setText(savedInstanceState.getString(EXTRA_LOCATION,user.location));
    mEditDescription.setText(savedInstanceState.getString(EXTRA_DESCRIPTION,user.description_expanded));
    mEditUrl.setText(savedInstanceState.getString(EXTRA_URL,user.url_expanded));
  }
 else {
    getUserInfo();
  }
}
