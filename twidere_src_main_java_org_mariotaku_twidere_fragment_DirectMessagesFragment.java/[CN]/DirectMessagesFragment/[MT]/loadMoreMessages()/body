{
  if (isRefreshing())   return;
  setLoadMoreIndicatorPosition(IndicatorPosition.END);
  setRefreshEnabled(false);
  AsyncTaskUtils.executeTask(new AsyncTask<Object,Object,RefreshTaskParam[]>(){
    @Override protected RefreshTaskParam[] doInBackground(    final Object... params){
      final Context context=getContext();
      if (context == null)       return null;
      RefreshTaskParam[] result=new RefreshTaskParam[2];
      UserKey[] accountKeys=getAccountKeys();
      result[0]=new BaseRefreshTaskParam(accountKeys,DataStoreUtils.getOldestMessageIds(context,DirectMessages.Inbox.CONTENT_URI,accountKeys),null);
      result[1]=new BaseRefreshTaskParam(accountKeys,DataStoreUtils.getOldestMessageIds(context,DirectMessages.Outbox.CONTENT_URI,accountKeys),null);
      return result;
    }
    @Override protected void onPostExecute(    final RefreshTaskParam[] result){
      final AsyncTwitterWrapper twitter=mTwitterWrapper;
      if (twitter == null || result == null)       return;
      twitter.getReceivedDirectMessagesAsync(result[0]);
      twitter.getSentDirectMessagesAsync(result[1]);
    }
  }
);
}
