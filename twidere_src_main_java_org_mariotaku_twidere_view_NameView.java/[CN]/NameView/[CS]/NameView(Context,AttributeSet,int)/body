{
  super(context,attrs,defStyleAttr);
  setEllipsize(TextUtils.TruncateAt.END);
  final TypedArray a=context.obtainStyledAttributes(attrs,R.styleable.NameView,defStyleAttr,0);
  setPrimaryTextColor(a.getColor(R.styleable.NameView_nv_primaryTextColor,0));
  setSecondaryTextColor(a.getColor(R.styleable.NameView_nv_secondaryTextColor,0));
  if (mTwoLine=a.getBoolean(R.styleable.NameView_nv_twoLine,false)) {
    setSingleLine(false);
    setMaxLines(2);
  }
 else {
    setSingleLine(true);
  }
  mPrimaryTextStyle=new StyleSpan(a.getInt(R.styleable.NameView_nv_primaryTextStyle,0));
  mSecondaryTextStyle=new StyleSpan(a.getInt(R.styleable.NameView_nv_secondaryTextStyle,0));
  a.recycle();
  setNameFirst(true);
  if (isInEditMode()) {
    setName("Name");
    setScreenName("@screenname");
    updateText();
  }
}
