{
  final SharedPreferences prefs=context.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  final boolean gzipCompressing=prefs.getBoolean(KEY_GZIP_COMPRESSING,true);
  final PackageManager pm=context.getPackageManager();
  try {
    final PackageInfo pi=pm.getPackageInfo(context.getPackageName(),0);
    final String version_name=pi.versionName;
    cb.setClientVersion(pi.versionName);
    cb.setClientName(TWIDERE_APP_NAME);
    cb.setClientURL(TWIDERE_PROJECT_URL);
    cb.setHttpUserAgent(TWIDERE_APP_NAME + " " + TWIDERE_PROJECT_URL+ " / "+ version_name+ (gzipCompressing ? " (gzip)" : ""));
  }
 catch (  final PackageManager.NameNotFoundException e) {
    throw new AssertionError(e);
  }
}
