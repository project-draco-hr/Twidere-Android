{
  Location location=null;
  try {
    final LocationManager lm=(LocationManager)context.getSystemService(Context.LOCATION_SERVICE);
    try {
      location=lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);
    }
 catch (    Exception ignore) {
    }
    if (location != null)     return location;
    try {
      location=lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
    }
 catch (    Exception ignore) {
    }
  }
 catch (  Exception ignore) {
  }
  return location;
}
