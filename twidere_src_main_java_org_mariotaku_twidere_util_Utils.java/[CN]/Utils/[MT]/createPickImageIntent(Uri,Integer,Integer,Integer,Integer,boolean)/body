{
  final Intent intent=new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
  intent.setType("image/*");
  if (outputX != null && outputY != null) {
    intent.putExtra(CameraCropActivity.EXTRA_OUTPUT_X,outputX);
    intent.putExtra(CameraCropActivity.EXTRA_OUTPUT_Y,outputY);
  }
  if (aspectX != null && aspectY != null) {
    intent.putExtra(CameraCropActivity.EXTRA_ASPECT_X,aspectX);
    intent.putExtra(CameraCropActivity.EXTRA_ASPECT_Y,aspectY);
  }
  intent.putExtra("scale",true);
  intent.putExtra("scaleUpIfNeeded",scaleUpIfNeeded);
  intent.putExtra("crop","true");
  intent.putExtra(MediaStore.EXTRA_OUTPUT,uri);
  return intent;
}
