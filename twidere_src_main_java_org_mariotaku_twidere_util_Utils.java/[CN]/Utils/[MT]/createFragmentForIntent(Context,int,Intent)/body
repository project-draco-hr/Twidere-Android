{
  intent.setExtrasClassLoader(context.getClassLoader());
  final Bundle extras=intent.getExtras();
  final Uri uri=intent.getData();
  final Fragment fragment;
  if (uri == null)   return null;
  final Bundle args=new Bundle();
  if (extras != null) {
    args.putAll(extras);
  }
switch (linkId) {
case LINK_ID_STATUS:
{
      fragment=new StatusFragment();
      if (!args.containsKey(EXTRA_STATUS_ID)) {
        final String param_status_id=uri.getQueryParameter(QUERY_PARAM_STATUS_ID);
        args.putLong(EXTRA_STATUS_ID,ParseUtils.parseLong(param_status_id));
      }
      break;
    }
case LINK_ID_USER:
{
    fragment=new UserFragment();
    final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
    final String param_user_id=uri.getQueryParameter(QUERY_PARAM_USER_ID);
    if (!args.containsKey(EXTRA_SCREEN_NAME)) {
      args.putString(EXTRA_SCREEN_NAME,paramScreenName);
    }
    if (!args.containsKey(EXTRA_USER_ID)) {
      args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(param_user_id));
    }
    break;
  }
case LINK_ID_USER_LIST_MEMBERSHIPS:
{
  fragment=new UserListMembershipsListFragment();
  final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
  final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
  if (!args.containsKey(EXTRA_SCREEN_NAME)) {
    args.putString(EXTRA_SCREEN_NAME,paramScreenName);
  }
  if (!args.containsKey(EXTRA_USER_ID)) {
    args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
  }
  break;
}
case LINK_ID_USER_TIMELINE:
{
fragment=new UserTimelineFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
  args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
  args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
}
if (isEmpty(paramScreenName) && isEmpty(paramUserId)) return null;
break;
}
case LINK_ID_USER_MEDIA_TIMELINE:
{
fragment=new UserMediaTimelineFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
}
if (isEmpty(paramScreenName) && isEmpty(paramUserId)) return null;
break;
}
case LINK_ID_USER_FAVORITES:
{
fragment=new UserFavoritesFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
}
if (!args.containsKey(EXTRA_SCREEN_NAME) && !args.containsKey(EXTRA_USER_ID)) return null;
break;
}
case LINK_ID_USER_FOLLOWERS:
{
fragment=new UserFollowersFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String param_user_id=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(param_user_id));
}
if (isEmpty(paramScreenName) && isEmpty(param_user_id)) return null;
break;
}
case LINK_ID_USER_FRIENDS:
{
fragment=new UserFriendsFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String param_user_id=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(param_user_id));
}
if (isEmpty(paramScreenName) && isEmpty(param_user_id)) return null;
break;
}
case LINK_ID_USER_BLOCKS:
{
fragment=new UserBlocksListFragment();
break;
}
case LINK_ID_MUTES_USERS:
{
fragment=new MutesUsersListFragment();
break;
}
case LINK_ID_DIRECT_MESSAGES_CONVERSATION:
{
fragment=new MessagesConversationFragment();
final String paramRecipientId=uri.getQueryParameter(QUERY_PARAM_RECIPIENT_ID);
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final long conversationId=ParseUtils.parseLong(paramRecipientId);
if (conversationId > 0) {
args.putLong(EXTRA_RECIPIENT_ID,conversationId);
}
 else if (paramScreenName != null) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
break;
}
case LINK_ID_USER_LIST:
{
fragment=new UserListFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
final String paramListId=uri.getQueryParameter(QUERY_PARAM_LIST_ID);
final String paramListName=uri.getQueryParameter(QUERY_PARAM_LIST_NAME);
if (isEmpty(paramListId) && (isEmpty(paramListName) || isEmpty(paramScreenName) && isEmpty(paramUserId))) return null;
args.putLong(EXTRA_LIST_ID,ParseUtils.parseLong(paramListId));
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
args.putString(EXTRA_LIST_NAME,paramListName);
break;
}
case LINK_ID_USER_LISTS:
{
fragment=new UserListsFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (!args.containsKey(EXTRA_USER_ID)) {
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
}
if (isEmpty(paramScreenName) && isEmpty(paramUserId)) return null;
break;
}
case LINK_ID_USER_LIST_TIMELINE:
{
fragment=new UserListTimelineFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
final String paramListId=uri.getQueryParameter(QUERY_PARAM_LIST_ID);
final String paramListName=uri.getQueryParameter(QUERY_PARAM_LIST_NAME);
if (isEmpty(paramListId) && (isEmpty(paramListName) || isEmpty(paramScreenName) && isEmpty(paramUserId))) return null;
args.putLong(EXTRA_LIST_ID,ParseUtils.parseLong(paramListId));
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
args.putString(EXTRA_LIST_NAME,paramListName);
break;
}
case LINK_ID_USER_LIST_MEMBERS:
{
fragment=new UserListMembersFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
final String paramListId=uri.getQueryParameter(QUERY_PARAM_LIST_ID);
final String paramListName=uri.getQueryParameter(QUERY_PARAM_LIST_NAME);
if (isEmpty(paramListId) && (isEmpty(paramListName) || isEmpty(paramScreenName) && isEmpty(paramUserId))) return null;
args.putLong(EXTRA_LIST_ID,ParseUtils.parseLong(paramListId));
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
args.putString(EXTRA_LIST_NAME,paramListName);
break;
}
case LINK_ID_USER_LIST_SUBSCRIBERS:
{
fragment=new UserListSubscribersFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
final String paramUserId=uri.getQueryParameter(QUERY_PARAM_USER_ID);
final String paramListId=uri.getQueryParameter(QUERY_PARAM_LIST_ID);
final String paramListName=uri.getQueryParameter(QUERY_PARAM_LIST_NAME);
if (isEmpty(paramListId) && (isEmpty(paramListName) || isEmpty(paramScreenName) && isEmpty(paramUserId))) return null;
args.putLong(EXTRA_LIST_ID,ParseUtils.parseLong(paramListId));
args.putLong(EXTRA_USER_ID,ParseUtils.parseLong(paramUserId));
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
args.putString(EXTRA_LIST_NAME,paramListName);
break;
}
case LINK_ID_SAVED_SEARCHES:
{
fragment=new SavedSearchesListFragment();
break;
}
case LINK_ID_USER_MENTIONS:
{
fragment=new UserMentionsFragment();
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
if (!args.containsKey(EXTRA_SCREEN_NAME) && !isEmpty(paramScreenName)) {
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
if (isEmpty(args.getString(EXTRA_SCREEN_NAME))) return null;
break;
}
case LINK_ID_INCOMING_FRIENDSHIPS:
{
fragment=new IncomingFriendshipsFragment();
break;
}
case LINK_ID_USERS:
{
fragment=new UsersListFragment();
break;
}
case LINK_ID_STATUSES:
{
fragment=new StatusesListFragment();
break;
}
case LINK_ID_STATUS_RETWEETERS:
{
fragment=new StatusRetweetersListFragment();
if (!args.containsKey(EXTRA_STATUS_ID)) {
final String paramStatusId=uri.getQueryParameter(QUERY_PARAM_STATUS_ID);
args.putLong(EXTRA_STATUS_ID,ParseUtils.parseLong(paramStatusId));
}
break;
}
case LINK_ID_STATUS_FAVORITERS:
{
fragment=new StatusFavoritersListFragment();
if (!args.containsKey(EXTRA_STATUS_ID)) {
final String paramStatusId=uri.getQueryParameter(QUERY_PARAM_STATUS_ID);
args.putLong(EXTRA_STATUS_ID,ParseUtils.parseLong(paramStatusId));
}
break;
}
case LINK_ID_STATUS_REPLIES:
{
fragment=new StatusRepliesListFragment();
if (!args.containsKey(EXTRA_STATUS_ID)) {
final String paramStatusId=uri.getQueryParameter(QUERY_PARAM_STATUS_ID);
args.putLong(EXTRA_STATUS_ID,ParseUtils.parseLong(paramStatusId));
}
if (!args.containsKey(EXTRA_SCREEN_NAME)) {
final String paramScreenName=uri.getQueryParameter(QUERY_PARAM_SCREEN_NAME);
args.putString(EXTRA_SCREEN_NAME,paramScreenName);
}
break;
}
case LINK_ID_SEARCH:
{
final String param_query=uri.getQueryParameter(QUERY_PARAM_QUERY);
if (isEmpty(param_query)) return null;
args.putString(EXTRA_QUERY,param_query);
fragment=new SearchFragment();
break;
}
default :
{
return null;
}
}
final String paramAccountId=uri.getQueryParameter(QUERY_PARAM_ACCOUNT_ID);
if (paramAccountId != null) {
args.putLong(EXTRA_ACCOUNT_ID,ParseUtils.parseLong(paramAccountId));
}
 else {
final String paramAccountName=uri.getQueryParameter(QUERY_PARAM_ACCOUNT_NAME);
if (paramAccountName != null) {
args.putLong(EXTRA_ACCOUNT_ID,getAccountId(context,paramAccountName));
}
 else {
final long accountId=getDefaultAccountId(context);
if (isMyAccount(context,accountId)) {
args.putLong(EXTRA_ACCOUNT_ID,accountId);
}
}
}
fragment.setArguments(args);
return fragment;
}
