{
  if (context == null)   return null;
  final SharedPreferences prefs=context.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  final long accountId=prefs.getLong(KEY_DEFAULT_ACCOUNT_ID,-1);
  final String accountHost=prefs.getString(KEY_DEFAULT_ACCOUNT_HOST,null);
  final AccountId[] accountIds=DataStoreUtils.getAccountIds(context);
  int idMatchIdx=-1;
  for (int i=0, accountIdsLength=accountIds.length; i < accountIdsLength; i++) {
    AccountId id=accountIds[i];
    if (accountId == id.getId()) {
      idMatchIdx=i;
      if (TextUtils.equals(accountHost,id.getHost()))       return id;
    }
  }
  if (idMatchIdx != -1) {
    return accountIds[idMatchIdx];
  }
  if (accountIds.length > 0 && !ArrayUtils.contains(accountIds,accountId)) {
    return accountIds[0];
  }
  return null;
}
