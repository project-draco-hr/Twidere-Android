{
  if (file == null || data == null)   return;
  final SharedPreferences prefs=mContext.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  final int databaseItemLimit=prefs.getInt(KEY_DATABASE_ITEM_LIMIT,DEFAULT_DATABASE_ITEM_LIMIT);
  try {
    final List<ParcelableActivity> activities=data.subList(0,Math.min(databaseItemLimit,data.size()));
    JSONFileIO.writeArray(file,activities.toArray(new ParcelableActivity[activities.size()]));
  }
 catch (  final IOException e) {
    e.printStackTrace();
  }
}
