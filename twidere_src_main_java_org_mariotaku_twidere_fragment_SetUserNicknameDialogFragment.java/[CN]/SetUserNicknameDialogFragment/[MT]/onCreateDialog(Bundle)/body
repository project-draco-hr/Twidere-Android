{
  final Bundle args=getArguments();
  final String nick=args.getString(EXTRA_NAME);
  final Context context=getActivity();
  final AlertDialog.Builder builder=new AlertDialog.Builder(context);
  builder.setTitle(R.string.set_nickname);
  builder.setPositiveButton(android.R.string.ok,this);
  if (!TextUtils.isEmpty(nick)) {
    builder.setNeutralButton(R.string.clear,this);
  }
  builder.setNegativeButton(android.R.string.cancel,null);
  final FrameLayout view=new FrameLayout(context);
  mEditText=new AppCompatEditText(context);
  final FrameLayout.LayoutParams lp=new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,FrameLayout.LayoutParams.WRAP_CONTENT);
  lp.leftMargin=lp.topMargin=lp.bottomMargin=lp.rightMargin=getResources().getDimensionPixelSize(R.dimen.element_spacing_normal);
  view.addView(mEditText,lp);
  builder.setView(view);
  mEditText.setText(nick);
  return builder.create();
}
