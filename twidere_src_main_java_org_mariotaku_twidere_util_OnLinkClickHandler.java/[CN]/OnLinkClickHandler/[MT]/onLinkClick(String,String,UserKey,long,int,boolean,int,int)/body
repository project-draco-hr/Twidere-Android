{
  if (manager != null && manager.isActive())   return false;
  if (!isPrivateData()) {
    final LinkEvent event=LinkEvent.create(context,link,type);
    HotMobiLogger.getInstance(context).log(accountKey,event);
  }
switch (type) {
case TwidereLinkify.LINK_TYPE_MENTION:
{
      IntentUtils.openUserProfile(context,accountKey,null,link,null,preferences.getBoolean(KEY_NEW_DOCUMENT_API),UserFragment.Referral.USER_MENTION);
      return true;
    }
case TwidereLinkify.LINK_TYPE_HASHTAG:
{
    IntentUtils.openTweetSearch(context,accountKey,"#" + link);
    return true;
  }
case TwidereLinkify.LINK_TYPE_LINK_IN_TEXT:
{
  if (isMedia(link,extraId)) {
    openMedia(accountKey,extraId,sensitive,link,start,end);
  }
 else {
    openLink(link);
  }
  return true;
}
case TwidereLinkify.LINK_TYPE_ENTITY_URL:
{
if (isMedia(link,extraId)) {
  openMedia(accountKey,extraId,sensitive,link,start,end);
}
 else {
  final String authority=UriUtils.getAuthority(link);
  if (authority == null) {
    openLink(link);
    return true;
  }
switch (authority) {
case "fanfou.com":
{
      if (orig != null) {
        final char ch=orig.charAt(0);
        final int length=orig.length();
        if (TwidereLinkify.isAtSymbol(ch)) {
          String id=UriUtils.getPath(link);
          if (id != null) {
            int idxOfSlash=id.indexOf('/');
            if (idxOfSlash == 0) {
              id=id.substring(1);
            }
            final String screenName=orig.substring(1,length);
            IntentUtils.openUserProfile(context,accountKey,UserKey.valueOf(id),screenName,null,preferences.getBoolean(KEY_NEW_DOCUMENT_API),UserFragment.Referral.USER_MENTION);
            return true;
          }
        }
 else         if (TwidereLinkify.isHashSymbol(ch) && TwidereLinkify.isHashSymbol(orig.charAt(length - 1))) {
          IntentUtils.openSearch(context,accountKey,orig.substring(1,length - 1));
          return true;
        }
      }
      break;
    }
default :
{
    if (IntentUtils.isWebLinkHandled(context,Uri.parse(link))) {
      openTwitterLink(link,accountKey);
      return true;
    }
    break;
  }
}
openLink(link);
}
return true;
}
case TwidereLinkify.LINK_TYPE_LIST:
{
final String[] mentionList=StringUtils.split(link,"/");
if (mentionList.length != 2) {
return false;
}
IntentUtils.openUserListDetails(context,accountKey,null,null,mentionList[0],mentionList[1]);
return true;
}
case TwidereLinkify.LINK_TYPE_CASHTAG:
{
IntentUtils.openTweetSearch(context,accountKey,link);
return true;
}
case TwidereLinkify.LINK_TYPE_USER_ID:
{
IntentUtils.openUserProfile(context,accountKey,UserKey.valueOf(link),null,null,preferences.getBoolean(KEY_NEW_DOCUMENT_API),UserFragment.Referral.USER_MENTION);
return true;
}
}
return false;
}
