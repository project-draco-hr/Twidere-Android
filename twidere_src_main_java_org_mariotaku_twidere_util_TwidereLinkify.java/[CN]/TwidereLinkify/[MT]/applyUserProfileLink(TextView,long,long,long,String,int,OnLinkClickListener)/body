{
  view.setMovementMethod(LinkMovementMethod.getInstance());
  final SpannableString string=SpannableString.valueOf(view.getText());
  final URLSpan[] spans=string.getSpans(0,string.length(),URLSpan.class);
  for (  final URLSpan span : spans) {
    string.removeSpan(span);
  }
  if (userId > 0) {
    applyLink(String.valueOf(userId),0,string.length(),string,accountId,extraId,LINK_TYPE_USER_ID,false,highlightOption,listener);
  }
 else   if (screenName != null) {
    applyLink(screenName,0,string.length(),string,accountId,extraId,LINK_TYPE_MENTION,false,highlightOption,listener);
  }
  view.setText(string);
  if (mAddMovementMethod) {
    addLinkMovementMethod(view);
  }
}
