{
  final Request.Builder builder=new Request.Builder();
  builder.method(restHttpRequest.getMethod(),RestToOkBody.wrap(restHttpRequest.getBody()));
  final HttpUrl httpUrl=HttpUrl.parse(restHttpRequest.getUrl());
  if (httpUrl == null) {
    throw new MalformedURLException();
  }
  builder.url(httpUrl);
  final List<Pair<String,String>> headers=restHttpRequest.getHeaders();
  if (headers != null) {
    for (    Pair<String,String> header : headers) {
      builder.addHeader(header.first,header.second);
    }
  }
  builder.tag(restHttpRequest.getExtra());
  return client.newCall(builder.build());
}
