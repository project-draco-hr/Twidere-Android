{
  super(context,attrs,defStyle);
  if (isInEditMode()) {
    inflate(context,R.layout.action_item_home_actions_compat,this);
  }
 else   if (context instanceof IThemedActivity) {
    int themeResourceId=((IThemedActivity)context).getCurrentThemeResourceId();
    int themeColor=((IThemedActivity)context).getCurrentThemeColor();
    inflate(ThemeUtils.getActionBarThemedContext(context,themeResourceId,themeColor),R.layout.action_item_home_actions_compat,this);
  }
 else {
    inflate(ThemeUtils.getActionBarThemedContext(context),R.layout.action_item_home_actions_compat,this);
  }
  mIconView=(ImageView)findViewById(android.R.id.icon);
  final Resources resources=getResources();
  final int radius=resources.getDimensionPixelSize(R.dimen.element_spacing_small);
  mBackground=new FloatingActionDrawable(this,radius);
  ViewSupport.setBackground(this,mBackground);
}
