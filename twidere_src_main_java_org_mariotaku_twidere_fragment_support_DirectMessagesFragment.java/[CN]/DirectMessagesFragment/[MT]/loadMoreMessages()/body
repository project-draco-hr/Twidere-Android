{
  if (isRefreshing())   return;
  mAdapter.setLoadMoreIndicatorVisible(true);
  mSwipeRefreshLayout.setEnabled(false);
  AsyncTaskUtils.executeTask(new AsyncTask<Void,Void,long[][]>(){
    @Override protected long[][] doInBackground(    final Void... params){
      final long[][] result=new long[3][];
      result[0]=Utils.getActivatedAccountIds(getActivity());
      result[1]=Utils.getOldestMessageIdsFromDatabase(getActivity(),DirectMessages.Inbox.CONTENT_URI);
      result[2]=Utils.getOldestMessageIdsFromDatabase(getActivity(),DirectMessages.Outbox.CONTENT_URI);
      return result;
    }
    @Override protected void onPostExecute(    final long[][] result){
      final AsyncTwitterWrapper twitter=getTwitterWrapper();
      if (twitter == null)       return;
      twitter.getReceivedDirectMessagesAsync(result[0],result[1],null);
      twitter.getSentDirectMessagesAsync(result[0],result[2],null);
    }
  }
);
}
