{
  final String type=json.optString("type");
  if ("STRING".equals(type)) {
    return new StringValueImpl(name,json);
  }
 else   if ("IMAGE".equals(type)) {
    return new ImageValueImpl(name,json);
  }
 else   if ("USER".equals(type)) {
    return new UserValueImpl(name,json);
  }
  throw new UnsupportedOperationException(String.format("Unsupported type %s",type));
}
