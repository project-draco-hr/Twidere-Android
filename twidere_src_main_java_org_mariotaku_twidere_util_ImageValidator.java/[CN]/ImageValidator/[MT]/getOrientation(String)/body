{
  try {
    final ExifInterface exif=new ExifInterface(file);
switch (exif.getAttributeInt(ExifInterface.TAG_ORIENTATION,ExifInterface.ORIENTATION_UNDEFINED)) {
case ExifInterface.ORIENTATION_ROTATE_90:
{
        return 90;
      }
case ExifInterface.ORIENTATION_ROTATE_180:
{
      return 180;
    }
case ExifInterface.ORIENTATION_ROTATE_270:
{
    return 270;
  }
}
}
 catch (IOException e) {
return 0;
}
return 0;
}
