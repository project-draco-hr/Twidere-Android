{
  super.onCreate(savedInstanceState);
  final Intent intent=getIntent();
  try {
    mImageUri=intent.getParcelableExtra(MediaStore.EXTRA_OUTPUT);
    mImageUriUncropped=Uri.parse(mImageUri.toString() + "_uncropped");
    final Intent camera_intent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    camera_intent.putExtra(MediaStore.EXTRA_OUTPUT,mImageUriUncropped);
    startActivityForResult(camera_intent,REQUEST_TAKE_PHOTO);
  }
 catch (  final Exception e) {
    setResult(RESULT_CANCELED);
    finish();
  }
}
