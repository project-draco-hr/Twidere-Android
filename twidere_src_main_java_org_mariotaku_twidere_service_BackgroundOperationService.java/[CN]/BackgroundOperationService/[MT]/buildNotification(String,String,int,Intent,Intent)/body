{
  final NotificationCompat.Builder builder=new NotificationCompat.Builder(this);
  builder.setTicker(message);
  builder.setContentTitle(title);
  builder.setContentText(message);
  builder.setAutoCancel(true);
  builder.setWhen(System.currentTimeMillis());
  builder.setSmallIcon(icon);
  if (delete_intent != null) {
    builder.setDeleteIntent(PendingIntent.getBroadcast(this,0,delete_intent,PendingIntent.FLAG_UPDATE_CURRENT));
  }
  if (content_intent != null) {
    content_intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);
    builder.setContentIntent(PendingIntent.getActivity(this,0,content_intent,PendingIntent.FLAG_UPDATE_CURRENT));
  }
  return builder.build();
}
