{
  final Editor editor=prefs.edit();
  for (  final String key : preferencesMap.keySet()) {
    if (!preferencesMap.containsKey(key)) {
      continue;
    }
    final Object value=preferencesMap.get(key);
    if (value == null) {
      continue;
    }
    if (value instanceof Boolean) {
      editor.putBoolean(key,(Boolean)value);
    }
 else     if (value instanceof Integer) {
      editor.putInt(key,(Integer)value);
    }
 else     if (value instanceof Long) {
      editor.putLong(key,(Long)value);
    }
 else     if (value instanceof Float) {
      editor.putFloat(key,(Float)value);
    }
 else     if (value instanceof String) {
      editor.putString(key,(String)value);
    }
  }
  editor.apply();
}
