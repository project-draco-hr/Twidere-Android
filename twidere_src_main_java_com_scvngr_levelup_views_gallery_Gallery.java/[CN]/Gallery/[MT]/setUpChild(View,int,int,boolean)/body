{
  Gallery.LayoutParams lp=child.getLayoutParams();
  if (lp == null) {
    lp=generateDefaultLayoutParams();
  }
  addViewInLayout(child,fromLeft != mIsRtl ? -1 : 0,lp);
  child.setSelected(offset == 0);
  final int childHeightSpec=ViewGroup.getChildMeasureSpec(mHeightMeasureSpec,mSpinnerPadding.top + mSpinnerPadding.bottom,lp.height);
  final int childWidthSpec=ViewGroup.getChildMeasureSpec(mWidthMeasureSpec,mSpinnerPadding.left + mSpinnerPadding.right,lp.width);
  child.measure(childWidthSpec,childHeightSpec);
  int childLeft;
  int childRight;
  final int childTop=calculateTop(child,true);
  final int childBottom=childTop + child.getMeasuredHeight();
  final int width=child.getMeasuredWidth();
  if (fromLeft) {
    childLeft=x;
    childRight=childLeft + width;
  }
 else {
    childLeft=x - width;
    childRight=x;
  }
  child.layout(childLeft,childTop,childRight,childBottom);
}
