{
  final int x=(int)event.getX();
  final int y=(int)event.getY();
  final int action=event.getAction();
  if (mMotionTarget != null) {
    if (action == MotionEvent.ACTION_DOWN) {
      final MotionEvent cancel=MotionEvent.obtain(event);
      cancel.setAction(MotionEvent.ACTION_CANCEL);
      dispatchTouchEvent(cancel,x,y,mMotionTarget,false);
      mMotionTarget=null;
    }
 else {
      dispatchTouchEvent(event,x,y,mMotionTarget,false);
      if (action == MotionEvent.ACTION_CANCEL || action == MotionEvent.ACTION_UP) {
        mMotionTarget=null;
      }
      return true;
    }
  }
  if (action == MotionEvent.ACTION_DOWN) {
    for (int i=getComponentCount() - 1; i >= 0; --i) {
      final GLView component=getComponent(i);
      if (component.getVisibility() != GLView.VISIBLE) {
        continue;
      }
      if (dispatchTouchEvent(event,x,y,component,true)) {
        mMotionTarget=component;
        return true;
      }
    }
  }
  return onTouch(event);
}
