{
  final String proxyType=prefs.getString(KEY_PROXY_TYPE,null);
  final String proxyHost=prefs.getString(KEY_PROXY_HOST,null);
  final int proxyPort=NumberUtils.toInt(prefs.getString(KEY_PROXY_PORT,null),-1);
  if (!isEmpty(proxyHost) && TwidereMathUtils.inRange(proxyPort,0,65535,TwidereMathUtils.RANGE_INCLUSIVE_INCLUSIVE)) {
    final SocketAddress addr=InetSocketAddress.createUnresolved(proxyHost,proxyPort);
    return new Proxy(getProxyType(proxyType),addr);
  }
  return Proxy.NO_PROXY;
}
