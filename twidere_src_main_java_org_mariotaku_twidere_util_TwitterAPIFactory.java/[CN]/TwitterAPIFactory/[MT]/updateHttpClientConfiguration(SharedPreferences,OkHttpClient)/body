{
  final int connectionTimeout=prefs.getInt(KEY_CONNECTION_TIMEOUT,10);
  final boolean ignoreSslError=prefs.getBoolean(KEY_IGNORE_SSL_ERROR,false);
  final boolean enableProxy=prefs.getBoolean(KEY_ENABLE_PROXY,false);
  client.setConnectTimeout(connectionTimeout,TimeUnit.SECONDS);
  final long connectionTimeoutMillis=TimeUnit.MILLISECONDS.convert(connectionTimeout,TimeUnit.SECONDS);
  final SSLSocketFactory sslSocketFactory;
  if (ignoreSslError) {
    sslSocketFactory=SSLCertificateSocketFactory.getInsecure((int)connectionTimeoutMillis,null);
    if (sslSocketFactory instanceof SSLCertificateSocketFactory) {
    }
    client.setSslSocketFactory(sslSocketFactory);
  }
  if (enableProxy) {
    client.setProxy(getProxy(prefs));
  }
}
