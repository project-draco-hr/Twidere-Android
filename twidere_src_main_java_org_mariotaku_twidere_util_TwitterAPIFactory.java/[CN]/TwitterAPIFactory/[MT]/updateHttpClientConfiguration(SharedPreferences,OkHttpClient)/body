{
  final int connectionTimeout=prefs.getInt(KEY_CONNECTION_TIMEOUT,10);
  final boolean ignoreSslError=prefs.getBoolean(KEY_IGNORE_SSL_ERROR,false);
  final boolean enableProxy=prefs.getBoolean(KEY_ENABLE_PROXY,false);
  client.setConnectTimeout(connectionTimeout,TimeUnit.SECONDS);
  client.setReadTimeout(0,TimeUnit.SECONDS);
  client.setWriteTimeout(0,TimeUnit.SECONDS);
  final SSLSocketFactory sslSocketFactory;
  if (ignoreSslError) {
    sslSocketFactory=SSLCertificateSocketFactory.getInsecure(0,null);
    if (sslSocketFactory instanceof SSLCertificateSocketFactory) {
    }
    client.setSslSocketFactory(sslSocketFactory);
  }
 else {
    client.setSslSocketFactory(null);
  }
  if (enableProxy) {
    client.setProxy(getProxy(prefs));
  }
 else {
    client.setProxy(null);
  }
}
