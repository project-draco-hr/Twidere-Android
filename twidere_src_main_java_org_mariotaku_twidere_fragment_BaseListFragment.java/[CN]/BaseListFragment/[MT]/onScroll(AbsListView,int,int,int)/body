{
  final boolean reached=firstVisibleItem + visibleItemCount >= totalItemCount && totalItemCount >= visibleItemCount;
  if (mReachedBottom != reached) {
    mReachedBottom=reached;
    if (mReachedBottom && mNotReachedBottomBefore) {
      mNotReachedBottomBefore=false;
      return;
    }
    if (mReachedBottom && getListAdapter().getCount() > visibleItemCount) {
      onReachedBottom();
    }
  }
}
