{
  final FragmentActivity activity=getActivity();
  if (!(activity instanceof IControlBarActivity) || mSystemWindowsInsets.top == 0 || mSwipeRefreshLayout == null || isRefreshing()) {
    return;
  }
  final float density=getResources().getDisplayMetrics().density;
  final int progressCircleDiameter=mSwipeRefreshLayout.getProgressCircleDiameter();
  final IControlBarActivity control=(IControlBarActivity)activity;
  final int controlBarOffsetPixels=Math.round(control.getControlBarHeight() * (1 - control.getControlBarOffset()));
  final int swipeStart=(mSystemWindowsInsets.top - controlBarOffsetPixels) - progressCircleDiameter;
  final int swipeDistance=Math.round(64 * density);
  mSwipeRefreshLayout.setProgressViewOffset(false,swipeStart,swipeStart + swipeDistance);
}
