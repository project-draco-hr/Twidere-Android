{
  if (prefs == null)   return null;
  final AccountKey[] temp=new AccountKey[prefs.length];
  int i=0;
  for (  final AccountPreferences pref : prefs) {
    if (pref.isAutoRefreshEnabled() && filter.isRefreshable(pref)) {
      temp[i++]=pref.getAccountKey();
    }
  }
  final AccountKey[] result=new AccountKey[i];
  System.arraycopy(temp,0,result,0,i);
  return result;
}
