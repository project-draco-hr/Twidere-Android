{
  try {
    JSONObject json;
    if (jsonStr.startsWith("[")) {
      final JSONArray array=new JSONArray(jsonStr);
      if (array.length() > 0) {
        json=array.getJSONObject(0);
      }
 else       throw new TwitterException("No trends found on the specified woeid");
    }
 else {
      json=new JSONObject(jsonStr);
    }
    asOf=InternalParseUtil.parseTrendsDate(json.getString("as_of"));
    location=extractLocation(json);
    final JSONArray array=json.getJSONArray("trends");
    trendAt=asOf;
    trends=jsonArrayToTrendArray(array);
  }
 catch (  final JSONException jsone) {
    throw new TwitterException(jsone.getMessage(),jsone);
  }
}
