{
  super.onActivityCreated(savedInstanceState);
  final FragmentActivity activity=getActivity();
  mPagerAdapter=new SupportTabsAdapter(activity,getChildFragmentManager(),null,1);
  mViewPager.setAdapter(mPagerAdapter);
  mViewPager.setOffscreenPageLimit(2);
  mViewPager.addOnPageChangeListener(this);
  mPagerIndicator.setViewPager(mViewPager);
  mPagerIndicator.setTabDisplayOption(TabPagerIndicator.LABEL);
  addTabs(mPagerAdapter);
  mToolbarContainer.setOnSizeChangedListener(new IExtendedView.OnSizeChangedListener(){
    @Override public void onSizeChanged(    View view,    int w,    int h,    int oldw,    int oldh){
      final int pageLimit=mViewPager.getOffscreenPageLimit();
      final int currentItem=mViewPager.getCurrentItem();
      final int count=mPagerAdapter.getCount();
      for (int i=0; i < count; i++) {
        if (i > currentItem - pageLimit - 1 || i < currentItem + pageLimit) {
          Object obj=mPagerAdapter.instantiateItem(mViewPager,i);
          if (obj instanceof IBaseFragment) {
            ((IBaseFragment)obj).requestFitSystemWindows();
          }
        }
      }
    }
  }
);
}
