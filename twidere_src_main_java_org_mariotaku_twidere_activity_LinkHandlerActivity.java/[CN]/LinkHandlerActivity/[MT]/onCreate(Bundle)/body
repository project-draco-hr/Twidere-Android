{
  mMultiSelectHandler=new MultiSelectEventHandler(this);
  mMultiSelectHandler.dispatchOnCreate();
  final Intent intent=getIntent();
  final Uri uri=intent.getData();
  final int linkId=matchLinkId(uri);
  intent.setExtrasClassLoader(getClassLoader());
  final Fragment fragment;
  try {
    fragment=createFragmentForIntent(this,linkId,intent);
  }
 catch (  Utils.NoAccountException e) {
    super.onCreate(savedInstanceState);
    Intent selectIntent=new Intent(this,AccountSelectorActivity.class);
    String accountHost=intent.getStringExtra(EXTRA_ACCOUNT_HOST);
    if (accountHost == null) {
      accountHost=uri.getQueryParameter(QUERY_PARAM_ACCOUNT_HOST);
    }
    selectIntent.putExtra(EXTRA_SINGLE_SELECTION,true);
    selectIntent.putExtra(EXTRA_SELECT_ONLY_ITEM,true);
    selectIntent.putExtra(EXTRA_ACCOUNT_HOST,accountHost);
    selectIntent.putExtra(EXTRA_START_INTENT,intent);
    startActivity(selectIntent);
    finish();
    return;
  }
  if (fragment instanceof IToolBarSupportFragment) {
    if (!((IToolBarSupportFragment)fragment).setupWindow(this)) {
      supportRequestWindowFeature(Window.FEATURE_NO_TITLE);
      supportRequestWindowFeature(WindowCompat.FEATURE_ACTION_MODE_OVERLAY);
    }
  }
  super.onCreate(savedInstanceState);
  if (fragment == null) {
    finish();
    return;
  }
  setupActionBarOption();
  Utils.logOpenNotificationFromUri(this,uri);
  final FragmentTransaction ft=getSupportFragmentManager().beginTransaction();
  ft.replace(android.R.id.content,fragment);
  ft.commit();
  setTitle(linkId,uri);
  mFinishOnly=Boolean.parseBoolean(uri.getQueryParameter(QUERY_PARAM_FINISH_ONLY));
  if (fragment instanceof IToolBarSupportFragment) {
    ThemeUtils.setCompatContentViewOverlay(getWindow(),new EmptyDrawable());
  }
}
