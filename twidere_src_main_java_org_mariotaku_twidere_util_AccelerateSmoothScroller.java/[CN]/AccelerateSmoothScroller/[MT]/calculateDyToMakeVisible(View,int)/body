{
  final RecyclerView.LayoutManager layoutManager=getLayoutManager();
  if (!layoutManager.canScrollVertically()) {
    return 0;
  }
  final RecyclerView.LayoutParams params=(RecyclerView.LayoutParams)view.getLayoutParams();
  final int top=layoutManager.getDecoratedTop(view) - params.topMargin;
  final int bottom=layoutManager.getDecoratedBottom(view) + params.bottomMargin;
  final int start=layoutManager.getPaddingTop();
  final int end=layoutManager.getHeight() - layoutManager.getPaddingBottom();
  return calculateDtToFit(top,bottom,start,end,snapPreference);
}
