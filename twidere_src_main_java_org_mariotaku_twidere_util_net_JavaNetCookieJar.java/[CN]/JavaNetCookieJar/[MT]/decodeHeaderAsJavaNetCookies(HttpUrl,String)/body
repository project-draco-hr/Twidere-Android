{
  List<Cookie> result=new ArrayList<>();
  for (int pos=0, limit=header.length(), pairEnd; pos < limit; pos=pairEnd + 1) {
    pairEnd=delimiterOffset(header,pos,limit,";,");
    int equalsSign=delimiterOffset(header,pos,pairEnd,'=');
    String name=trimSubstring(header,pos,equalsSign);
    if (name.startsWith("$"))     continue;
    String value=equalsSign < pairEnd ? trimSubstring(header,equalsSign + 1,pairEnd) : "";
    if (value.startsWith("\"") && value.endsWith("\"")) {
      value=value.substring(1,value.length() - 1);
    }
    result.add(new Cookie.Builder().name(name).value(value).domain(url.host()).build());
  }
  return result;
}
