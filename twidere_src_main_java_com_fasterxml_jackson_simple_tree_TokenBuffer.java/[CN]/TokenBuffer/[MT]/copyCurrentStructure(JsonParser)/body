{
  JsonToken t=jp.getCurrentToken();
  if (t == JsonToken.FIELD_NAME) {
    if (_mayHaveNativeIds) {
      _checkNativeIds(jp);
    }
    writeFieldName(jp.getCurrentName());
    t=jp.nextToken();
  }
  if (_mayHaveNativeIds) {
    _checkNativeIds(jp);
  }
switch (t) {
case START_ARRAY:
    writeStartArray();
  while (jp.nextToken() != JsonToken.END_ARRAY) {
    copyCurrentStructure(jp);
  }
writeEndArray();
break;
case START_OBJECT:
writeStartObject();
while (jp.nextToken() != JsonToken.END_OBJECT) {
copyCurrentStructure(jp);
}
writeEndObject();
break;
default :
copyCurrentEvent(jp);
}
}
