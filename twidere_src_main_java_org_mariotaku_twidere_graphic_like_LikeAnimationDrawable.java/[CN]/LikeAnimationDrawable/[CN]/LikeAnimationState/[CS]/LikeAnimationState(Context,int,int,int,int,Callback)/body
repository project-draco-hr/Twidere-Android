{
  mDefaultColor=defaultColor;
  mLikeColor=likeColor;
  mStyle=style;
  mIconLayer=new IconLayerDrawable(ContextCompat.getDrawable(context,likeIcon));
  mIconLayer.setColorFilter(defaultColor,PorterDuff.Mode.SRC_ATOP);
  final Palette palette;
switch (style) {
case Style.FAVORITE:
{
      palette=new FavoritePalette();
      mParticleLayer=new ShineLayerDrawable(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
      break;
    }
case Style.LIKE:
{
    palette=new LikePalette();
    mParticleLayer=new ParticleLayerDrawable(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
    break;
  }
default :
{
  throw new IllegalArgumentException();
}
}
mParticleLayer.setProgress(-1);
mCircleLayer=new CircleLayerDrawable(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
mIconLayer.setCallback(callback);
mParticleLayer.setCallback(callback);
mCircleLayer.setCallback(callback);
}
