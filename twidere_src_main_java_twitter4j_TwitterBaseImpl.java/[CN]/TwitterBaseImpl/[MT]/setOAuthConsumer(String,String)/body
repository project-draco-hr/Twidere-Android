{
  if (null == consumerKey)   throw new NullPointerException("consumer key is null");
  if (null == consumerSecret)   throw new NullPointerException("consumer secret is null");
  if (auth instanceof NullAuthorization) {
    final OAuthAuthorization oauth=new OAuthAuthorization(conf);
    oauth.setOAuthConsumer(consumerKey,consumerSecret);
    auth=oauth;
  }
 else   if (auth instanceof BasicAuthorization) {
    final XAuthAuthorization xauth=new XAuthAuthorization((BasicAuthorization)auth);
    xauth.setOAuthConsumer(consumerKey,consumerSecret);
    auth=xauth;
  }
 else   if (auth instanceof OAuthAuthorization)   throw new IllegalStateException("consumer key/secret pair already set.");
}
