{
  final Bitmap bitmap=getBitmap();
  if (bitmap == null)   return;
  if (mRebuildShader) {
    mPaint.setShader(new BitmapShader(bitmap,getTileMode(getTileModeX()),getTileMode(getTileModeY())));
    mRebuildShader=false;
  }
  final Rect bounds=getBounds();
  final int height=bounds.bottom - bounds.top;
  mMatrix.setTranslate(0,bounds.top);
  canvas.save();
  canvas.setMatrix(mMatrix);
  canvas.drawRect(bounds.left,0,bounds.right,height,mPaint);
  canvas.restore();
}
