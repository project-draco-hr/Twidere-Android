{
switch (item.getItemId()) {
case R.id.copy_url:
{
      final int start=textView.getSelectionStart(), end=textView.getSelectionEnd();
      final SpannableString string=SpannableString.valueOf(textView.getText());
      final URLSpan[] spans=string.getSpans(start,end,URLSpan.class);
      if (spans.length != 1)       return true;
      ClipboardUtils.setText(context,spans[0].getURL());
      mode.finish();
      return true;
    }
case R.id.share_url:
{
    final int start=textView.getSelectionStart(), end=textView.getSelectionEnd();
    final SpannableString string=SpannableString.valueOf(textView.getText());
    final URLSpan[] spans=string.getSpans(start,end,URLSpan.class);
    if (spans.length != 1)     return true;
    Intent shareIntent=new Intent(Intent.ACTION_SEND);
    shareIntent.setType("text/plain");
    shareIntent.putExtra(Intent.EXTRA_TEXT,spans[0].getURL());
    context.startActivity(Intent.createChooser(shareIntent,context.getString(R.string.share_link)));
    mode.finish();
    return true;
  }
}
return false;
}
