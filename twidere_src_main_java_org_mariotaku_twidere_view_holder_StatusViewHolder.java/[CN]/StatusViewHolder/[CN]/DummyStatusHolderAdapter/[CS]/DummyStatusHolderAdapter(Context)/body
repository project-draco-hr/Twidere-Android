{
  DaggerGeneralComponent.builder().applicationModule(TwidereApplication.getModule(context)).build().inject(this);
  this.context=context;
  preferences=SharedPreferencesWrapper.getInstance(context,SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  final TwidereApplication app=TwidereApplication.getInstance(context);
  loader=app.getMediaLoaderWrapper();
  handler=new MediaLoadingHandler(R.id.media_preview_progress);
  manager=app.getUserColorNameManager();
  linkify=new TwidereLinkify(null);
  updateOptions();
}
