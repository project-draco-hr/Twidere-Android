{
  super(context,attrs,defStyle);
  mTicker=new TickerRunnable(this);
  if (!isInEditMode()) {
    mPreferences=context.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  }
 else {
    mPreferences=null;
  }
  if (mPreferences != null) {
    mPreferences.registerOnSharedPreferenceChangeListener(this);
  }
  updateTimeDisplayOption();
}
