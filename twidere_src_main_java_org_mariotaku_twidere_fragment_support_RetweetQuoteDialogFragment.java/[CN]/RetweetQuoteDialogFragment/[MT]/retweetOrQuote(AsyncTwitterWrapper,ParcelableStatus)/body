{
  final Dialog dialog=getDialog();
  if (dialog == null)   return;
  final EditText editComment=((EditText)dialog.findViewById(R.id.edit_comment));
  if (editComment.length() > 0) {
    final Menu menu=mPopupMenu.getMenu();
    final MenuItem quoteOriginalStatus=menu.findItem(R.id.quote_original_status);
    final MenuItem linkToQuotedStatus=menu.findItem(R.id.link_to_quoted_status);
    final Uri statusLink;
    if (!status.is_quote || !quoteOriginalStatus.isChecked()) {
      statusLink=LinkCreator.getTwitterStatusLink(status.user_screen_name,status.id);
    }
 else {
      statusLink=LinkCreator.getTwitterStatusLink(status.quoted_user_screen_name,status.quoted_id);
    }
    final String commentText=editComment.getText() + " " + statusLink;
    ParcelableStatusUpdate update=new ParcelableStatusUpdate();
    update.text=commentText;
    update.accounts=DataStoreUtils.getAccounts(getContext(),status.account_id);
    if (linkToQuotedStatus.isChecked()) {
      update.in_reply_to_status=status;
    }
    update.is_possibly_sensitive=status.is_possibly_sensitive;
    twitter.updateStatusesAsync(update);
  }
 else   if (isMyRetweet(status)) {
    twitter.cancelRetweetAsync(status.account_id,status.id,status.my_retweet_id);
  }
 else {
    twitter.retweetStatusAsync(status.account_id,status.id);
  }
}
