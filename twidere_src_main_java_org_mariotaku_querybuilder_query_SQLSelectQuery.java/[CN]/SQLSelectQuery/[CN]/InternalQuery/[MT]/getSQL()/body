{
  if (select == null)   throw new SQLQueryException("selectable is null");
  final StringBuilder sb=new StringBuilder("SELECT ");
  if (distinct) {
    sb.append("DISTINCT ");
  }
  sb.append(String.format("%s ",select.getSQL()));
  if (!(select instanceof SQLSelectQuery) && from == null)   throw new SQLQueryException("FROM not specified");
 else   if (from != null) {
    if (from instanceof SQLSelectQuery) {
      sb.append(String.format("FROM (%s) ",from.getSQL()));
    }
 else {
      sb.append(String.format("FROM %s ",from.getSQL()));
    }
  }
  if (where != null) {
    sb.append(String.format("WHERE %s ",where.getSQL()));
  }
  if (groupBy != null) {
    sb.append(String.format("GROUP BY %s ",groupBy.getSQL()));
    if (having != null) {
      sb.append(String.format("HAVING %s ",having.getSQL()));
    }
  }
  return sb.toString();
}
