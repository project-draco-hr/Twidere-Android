{
  final ListAdapter adapter=mAdapter.getAdapter(position);
  final Object item=mAdapter.getItem(position);
  if (adapter instanceof AccountOptionsAdapter) {
    final ParcelableAccount account=mAccountsAdapter.getSelectedAccount();
    if (account == null || !(item instanceof OptionItem))     return;
    final OptionItem option=(OptionItem)item;
switch (option.id) {
case MENU_SEARCH:
{
        final Intent intent=new Intent(getActivity(),QuickSearchBarActivity.class);
        intent.putExtra(EXTRA_ACCOUNT_ID,account.account_id);
        startActivity(intent);
        closeAccountsDrawer();
        break;
      }
case MENU_COMPOSE:
{
      final Intent composeIntent=new Intent(INTENT_ACTION_COMPOSE);
      composeIntent.setClass(getActivity(),ComposeActivity.class);
      composeIntent.putExtra(EXTRA_ACCOUNT_IDS,new long[]{account.account_id});
      startActivity(composeIntent);
      break;
    }
case MENU_FAVORITES:
{
    openUserFavorites(getActivity(),account.account_id,account.account_id,account.screen_name);
    break;
  }
case MENU_LISTS:
{
  openUserLists(getActivity(),account.account_id,account.account_id,account.screen_name);
  break;
}
case MENU_EDIT:
{
Utils.openProfileEditor(getActivity(),account.account_id);
break;
}
}
}
 else if (adapter instanceof AppMenuAdapter) {
if (!(item instanceof OptionItem)) return;
final OptionItem option=(OptionItem)item;
switch (option.id) {
case MENU_ACCOUNTS:
{
Utils.openAccountsManager(getActivity());
break;
}
case MENU_DRAFTS:
{
Utils.openDrafts(getActivity());
break;
}
case MENU_FILTERS:
{
Utils.openFilters(getActivity());
break;
}
case MENU_SETTINGS:
{
final Intent intent=new Intent(getActivity(),SettingsActivity.class);
intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
startActivityForResult(intent,REQUEST_SETTINGS);
break;
}
}
closeAccountsDrawer();
}
}
