{
  if (mViewPager == null || mPagerAdapter == null)   return;
  final int icon, title;
  final int position=mViewPager.getCurrentItem();
  final SupportTabSpec tab=mPagerAdapter.getTab(position);
  if (tab == null) {
    title=R.string.compose;
    icon=R.drawable.ic_action_status_compose;
  }
 else {
    if (classEquals(DirectMessagesFragment.class,tab.cls)) {
      icon=R.drawable.ic_action_new_message;
      title=R.string.new_direct_message;
    }
 else     if (classEquals(TrendsSuggectionsFragment.class,tab.cls)) {
      icon=R.drawable.ic_action_search;
      title=android.R.string.search_go;
    }
 else {
      icon=R.drawable.ic_action_status_compose;
      title=R.string.compose;
    }
  }
  final boolean hasActivatedTask=hasActivatedTask();
  if (mBottomActionsButton != null) {
    mBottomActionsButton.setIcon(icon);
    mBottomActionsButton.setTitle(title);
    mBottomActionsButton.setShowProgress(hasActivatedTask);
  }
  if (mSmartBarProgress != null) {
    mSmartBarProgress.setVisibility(hasActivatedTask ? View.VISIBLE : View.INVISIBLE);
  }
}
