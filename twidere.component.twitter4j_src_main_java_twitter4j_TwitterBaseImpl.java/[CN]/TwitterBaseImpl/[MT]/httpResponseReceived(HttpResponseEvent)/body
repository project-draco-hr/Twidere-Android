{
  if (rateLimitStatusListeners.size() != 0) {
    final HttpResponse res=event.getResponse();
    final TwitterException te=event.getTwitterException();
    RateLimitStatus rateLimitStatus;
    int statusCode;
    if (te != null) {
      rateLimitStatus=te.getRateLimitStatus();
      statusCode=te.getStatusCode();
    }
 else {
      rateLimitStatus=InternalJSONFactoryImpl.createRateLimitStatusFromResponseHeader(res);
      statusCode=res.getStatusCode();
    }
    if (rateLimitStatus != null) {
      final RateLimitStatusEvent statusEvent=new RateLimitStatusEvent(this,rateLimitStatus,event.isAuthenticated());
      if (statusCode == ENHANCE_YOUR_CLAIM || statusCode == SERVICE_UNAVAILABLE) {
        for (        final RateLimitStatusListener listener : rateLimitStatusListeners) {
          listener.onRateLimitStatus(statusEvent);
          listener.onRateLimitReached(statusEvent);
        }
      }
 else {
        for (        final RateLimitStatusListener listener : rateLimitStatusListeners) {
          listener.onRateLimitStatus(statusEvent);
        }
      }
    }
  }
}
