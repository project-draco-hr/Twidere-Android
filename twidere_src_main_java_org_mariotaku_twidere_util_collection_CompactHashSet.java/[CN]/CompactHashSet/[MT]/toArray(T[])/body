{
  int size=elements;
  if (a.length < size)   a=(T[])java.lang.reflect.Array.newInstance(a.getClass().getComponentType(),size);
  E[] objects=this.objects;
  int pos=0;
  for (int i=0; i < objects.length; i++)   if (objects[i] != null && objects[i] != deletedObject) {
    if (objects[i] == nullObject)     a[pos++]=null;
 else     a[pos++]=(T)objects[i];
  }
  return a;
}
