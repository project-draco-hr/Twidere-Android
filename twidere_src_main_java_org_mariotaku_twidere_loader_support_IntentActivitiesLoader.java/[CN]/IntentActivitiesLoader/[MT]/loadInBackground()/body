{
  if (mIntent == null)   return Collections.emptyList();
  final List<ResolveInfo> activities=mPackageManager.queryIntentActivities(mIntent,mFlags);
  final List<ResolveInfo> result=new ArrayList<>();
  for (  final ResolveInfo activity : activities) {
    final ActivityInfo activityInfo=activity.activityInfo;
    if (mPackagesBlacklist == null || !ArrayUtils.contains(mPackagesBlacklist,activityInfo.packageName)) {
      result.add(activity);
    }
  }
  return result;
}
