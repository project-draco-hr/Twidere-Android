{
  final float progress=getProgress();
  final Rect bounds=getBounds();
  final float radius;
  if (progress < 0.5f) {
    mPaint.setStyle(Paint.Style.FILL);
    final float sizeProgress=Math.min(1,progress * 2);
    radius=sizeProgress * mFullRadius;
  }
 else {
    mPaint.setStyle(Paint.Style.STROKE);
    final float innerLeftRatio=1 - (progress - 0.5f) * 2f;
    final float strokeWidth=mFullRadius * innerLeftRatio;
    mPaint.setStrokeWidth(strokeWidth);
    radius=mFullRadius - strokeWidth / 2;
    if (strokeWidth <= 0)     return;
  }
  mPaint.setColor(palette.getCircleColor(progress));
  canvas.drawCircle(bounds.centerX(),bounds.centerY(),radius,mPaint);
}
