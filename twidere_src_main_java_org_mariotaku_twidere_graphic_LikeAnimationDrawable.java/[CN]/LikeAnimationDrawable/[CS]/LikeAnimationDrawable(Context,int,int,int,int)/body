{
  mDefaultColor=defaultColor;
  mLikeColor=likeColor;
  mStyle=style;
  mIconLayer=new IconLayer(ContextCompat.getDrawable(context,likeIcon));
  mIconLayer.setColorFilter(defaultColor,PorterDuff.Mode.SRC_ATOP);
  final Palette palette;
switch (style) {
case Style.FAVORITE:
{
      palette=new FavoritePalette();
      mParticleLayer=new ShineLayer(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
      break;
    }
case Style.LIKE:
{
    palette=new LikePalette();
    mParticleLayer=new ParticleLayer(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
    break;
  }
default :
{
  throw new IllegalArgumentException();
}
}
mParticleLayer.setProgress(-1);
mCircleLayer=new CircleLayer(mIconLayer.getIntrinsicWidth(),mIconLayer.getIntrinsicHeight(),palette);
mIconLayer.setCallback(this);
mParticleLayer.setCallback(this);
mCircleLayer.setCallback(this);
}
