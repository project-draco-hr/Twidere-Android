{
  final Dialog showingDialog=getDialog();
  if (!(showingDialog instanceof AlertDialog))   return;
  final AlertDialog alertDialog=(AlertDialog)showingDialog;
  final ListView listView=alertDialog.getListView();
  if (listView == null)   return;
  int value=0;
  final int[] flags=getFlags();
  for (int i=0, j=flags.length; i < j; i++) {
    if (listView.isItemChecked(i)) {
      value|=flags[i];
    }
  }
  persistInt(value);
}
