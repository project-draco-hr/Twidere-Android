{
  final double dx=distanceX;
  final double dy=distanceY;
  final long startTime=System.currentTimeMillis();
  mHandler.post(new Runnable(){
    double old_x=0;
    double old_y=0;
    @Override public void run(){
      final long now=System.currentTimeMillis();
      final double currentMs=Math.min(durationMs,now - startTime);
      final double x=mEasing.easeOut(currentMs,0,dx,durationMs);
      final double y=mEasing.easeOut(currentMs,0,dy,durationMs);
      panBy(x - old_x,y - old_y);
      old_x=x;
      old_y=y;
      if (currentMs < durationMs) {
        mHandler.post(this);
      }
 else {
        final RectF centerRect=getCenter(true,true);
        if (centerRect.left != 0 || centerRect.top != 0) {
          scrollBy(centerRect.left,centerRect.top);
        }
      }
    }
  }
);
}
