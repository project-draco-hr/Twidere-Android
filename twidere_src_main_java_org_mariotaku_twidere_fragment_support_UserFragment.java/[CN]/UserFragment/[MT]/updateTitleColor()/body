{
  final int[] location=new int[2];
  mNameView.getLocationInWindow(location);
  final float nameShowingRatio=(mHeaderDrawerLayout.getPaddingTop() - location[1]) / (float)mNameView.getHeight();
  final int textAlpha=Math.round(0xFF * MathUtils.clamp(nameShowingRatio,0,1));
  final FragmentActivity activity=getActivity();
  final SpannableStringBuilder spannedTitle;
  final CharSequence title=activity.getTitle();
  if (title instanceof SpannableStringBuilder) {
    spannedTitle=(SpannableStringBuilder)title;
  }
 else {
    spannedTitle=SpannableStringBuilder.valueOf(title);
  }
  final TextAlphaSpan[] spans=spannedTitle.getSpans(0,spannedTitle.length(),TextAlphaSpan.class);
  if (spans.length > 0) {
    spans[0].setAlpha(textAlpha);
  }
 else {
    spannedTitle.setSpan(new TextAlphaSpan(textAlpha),0,spannedTitle.length(),Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
  }
  activity.setTitle(spannedTitle);
}
