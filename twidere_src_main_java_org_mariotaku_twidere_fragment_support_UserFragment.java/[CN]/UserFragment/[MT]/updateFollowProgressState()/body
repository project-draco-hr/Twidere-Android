{
  final AsyncTwitterWrapper twitter=mTwitterWrapper;
  final ParcelableUser user=getUser();
  if (twitter == null || user == null) {
    mFollowButton.setVisibility(View.GONE);
    mFollowProgress.setVisibility(View.GONE);
    return;
  }
  final LoaderManager lm=getLoaderManager();
  final boolean loadingRelationship=lm.getLoader(LOADER_ID_FRIENDSHIP) != null;
  final UserKey accountKey=user.account_key;
  final boolean updatingRelationship=twitter.isUpdatingRelationship(accountKey,user.key);
  if (loadingRelationship || updatingRelationship) {
    mFollowButton.setVisibility(View.GONE);
    mFollowProgress.setVisibility(View.VISIBLE);
  }
 else   if (mRelationship != null) {
    mFollowButton.setVisibility(View.VISIBLE);
    mFollowProgress.setVisibility(View.GONE);
  }
 else {
    mFollowButton.setVisibility(View.GONE);
    mFollowProgress.setVisibility(View.GONE);
  }
}
