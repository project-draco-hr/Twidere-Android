{
  mUser=user;
  final FragmentActivity activity=getActivity();
  if (user == null || user.id <= 0 || activity == null)   return;
  final Resources resources=getResources();
  final LoaderManager lm=getLoaderManager();
  lm.destroyLoader(LOADER_ID_USER);
  lm.destroyLoader(LOADER_ID_FRIENDSHIP);
  final boolean userIsMe=user.account_id == user.id;
  mCardContent.setVisibility(View.VISIBLE);
  mHeaderErrorContainer.setVisibility(View.GONE);
  mProgressContainer.setVisibility(View.GONE);
  mUser=user;
  final int userColor=mUserColorNameManager.getUserColor(user.id,true);
  mProfileImageView.setBorderColor(userColor != 0 ? userColor : Color.WHITE);
  mProfileNameContainer.drawEnd(Utils.getAccountColor(activity,user.account_id));
  final String nick=mUserColorNameManager.getUserNickname(user.id,true);
  mNameView.setText(TextUtils.isEmpty(nick) ? user.name : getString(R.string.name_with_nickname,user.name,nick));
  final int typeIconRes=Utils.getUserTypeIconRes(user.is_verified,user.is_protected);
  if (typeIconRes != 0) {
    mProfileTypeView.setImageResource(typeIconRes);
    mProfileTypeView.setVisibility(View.VISIBLE);
  }
 else {
    mProfileTypeView.setImageDrawable(null);
    mProfileTypeView.setVisibility(View.GONE);
  }
  mScreenNameView.setText("@" + user.screen_name);
  mDescriptionContainer.setVisibility(TextUtils.isEmpty(user.description_html) ? View.GONE : View.VISIBLE);
  mDescriptionView.setText(user.description_html != null ? HtmlSpanBuilder.fromHtml(user.description_html) : user.description_plain);
  final TwidereLinkify linkify=new TwidereLinkify(this);
  linkify.applyAllLinks(mDescriptionView,user.account_id,false);
  mLocationContainer.setVisibility(TextUtils.isEmpty(user.location) ? View.GONE : View.VISIBLE);
  mLocationView.setText(user.location);
  mURLContainer.setVisibility(TextUtils.isEmpty(user.url) && TextUtils.isEmpty(user.url_expanded) ? View.GONE : View.VISIBLE);
  mURLView.setText(TextUtils.isEmpty(user.url_expanded) ? user.url : user.url_expanded);
  final String createdAt=Utils.formatToLongTimeString(activity,user.created_at);
  final float daysSinceCreation=(System.currentTimeMillis() - user.created_at) / 1000 / 60/ 60/ 24;
  final int dailyTweets=Math.round(user.statuses_count / Math.max(1,daysSinceCreation));
  mCreatedAtView.setText(resources.getQuantityString(R.plurals.created_at_with_N_tweets_per_day,dailyTweets,createdAt,dailyTweets));
  mListedCount.setText(Utils.getLocalizedNumber(mLocale,user.listed_count));
  mFollowersCount.setText(Utils.getLocalizedNumber(mLocale,user.followers_count));
  mFriendsCount.setText(Utils.getLocalizedNumber(mLocale,user.friends_count));
  mMediaLoader.displayProfileImage(mProfileImageView,Utils.getOriginalTwitterProfileImage(user.profile_image_url));
  if (userColor != 0) {
    setUiColor(userColor);
  }
 else {
    setUiColor(user.link_color);
  }
  final int defWidth=resources.getDisplayMetrics().widthPixels;
  final int width=mBannerWidth > 0 ? mBannerWidth : defWidth;
  mMediaLoader.displayProfileBanner(mProfileBannerView,user.profile_banner_url,width);
  final Relationship relationship=mRelationship;
  if (relationship == null || relationship.getTargetUserId() != user.id) {
    getFriendship();
  }
  activity.setTitle(mUserColorNameManager.getDisplayName(user,mNameFirst,true));
  Calendar cal=Calendar.getInstance();
  final int currentMonth=cal.get(Calendar.MONTH), currentDay=cal.get(Calendar.DAY_OF_MONTH);
  cal.setTimeInMillis(user.created_at);
  if (cal.get(Calendar.MONTH) == currentMonth && cal.get(Calendar.DAY_OF_MONTH) == currentDay && !mHideBirthdayView) {
    mProfileBirthdayBannerView.setVisibility(View.VISIBLE);
  }
 else {
    mProfileBirthdayBannerView.setVisibility(View.GONE);
  }
  updateTitleAlpha();
  invalidateOptionsMenu();
  updateSubtitle();
}
