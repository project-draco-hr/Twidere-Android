{
  mRelationship=relationship;
  if (user == null)   return;
  invalidateOptionsMenu();
  final boolean isMyself=user.account_id == user.id;
  if (isMyself) {
    mFollowButton.setText(R.string.edit);
    mFollowButton.setVisibility(View.VISIBLE);
  }
 else   if (relationship != null) {
    mFollowButton.setEnabled(!relationship.isSourceBlockedByTarget());
    if (relationship.isSourceBlockedByTarget()) {
      mPagesErrorContainer.setVisibility(View.GONE);
      mPagesErrorText.setText(null);
      mPagesContent.setVisibility(View.VISIBLE);
    }
 else     if (!relationship.isSourceFollowingTarget() && user.is_protected) {
      mPagesErrorContainer.setVisibility(View.VISIBLE);
      final String displayName=mUserColorNameManager.getDisplayName(user,mNameFirst,true);
      mPagesErrorText.setText(getString(R.string.user_protected_summary,displayName));
      mPagesErrorIcon.setImageResource(R.drawable.ic_info_locked);
      mPagesContent.setVisibility(View.GONE);
    }
 else {
      mPagesErrorContainer.setVisibility(View.GONE);
      mPagesErrorText.setText(null);
      mPagesContent.setVisibility(View.VISIBLE);
    }
    if (relationship.isSourceBlockingTarget()) {
      mFollowButton.setText(R.string.unblock);
    }
 else     if (relationship.isSourceFollowingTarget()) {
      mFollowButton.setText(R.string.unfollow);
    }
 else     if (user.is_follow_request_sent) {
      mFollowButton.setText(R.string.requested);
    }
 else {
      mFollowButton.setText(R.string.follow);
    }
    mFollowButton.setCompoundDrawablePadding(Math.round(mFollowButton.getTextSize() * 0.25f));
    mFollowingYouIndicator.setVisibility(relationship.isTargetFollowingSource() ? View.VISIBLE : View.GONE);
    final ContentResolver resolver=getContentResolver();
    final ContentValues cachedValues=ContentValuesCreator.makeCachedUserContentValues(user);
    resolver.insert(CachedUsers.CONTENT_URI,cachedValues);
    mFollowButton.setVisibility(View.VISIBLE);
  }
 else {
    mFollowButton.setText(null);
    mFollowButton.setVisibility(View.GONE);
    mPagesErrorContainer.setVisibility(View.GONE);
    mPagesContent.setVisibility(View.VISIBLE);
  }
}
