{
  mUiColor=color;
  if (mActionBarBackground == null) {
    setupBaseActionBar();
  }
  final AppCompatActivity activity=(AppCompatActivity)getActivity();
  final IThemedActivity themed=(IThemedActivity)activity;
  final int themeRes=themed.getCurrentThemeResourceId();
  final int actionBarColor;
  if (ThemeUtils.isDarkTheme(themeRes)) {
    actionBarColor=getResources().getColor(R.color.background_color_action_bar_dark);
  }
 else {
    actionBarColor=color;
  }
  if (mTintedStatusContent != null) {
    mTintedStatusContent.setColor(actionBarColor,themed.getCurrentThemeBackgroundAlpha());
  }
  if (mActionBarBackground != null) {
    mActionBarBackground.setColor(actionBarColor);
  }
  ActivitySupport.setTaskDescription(activity,new TaskDescriptionCompat(null,null,actionBarColor));
  mDescriptionView.setLinkTextColor(color);
  mProfileBannerView.setBackgroundColor(color);
  mLocationView.setLinkTextColor(color);
  mURLView.setLinkTextColor(color);
  ViewSupport.setBackground(mPagerIndicator,ThemeUtils.getActionBarStackedBackground(activity,themeRes,color,true));
  final HeaderDrawerLayout drawer=mHeaderDrawerLayout;
  if (drawer != null) {
    final int offset=drawer.getPaddingTop() - drawer.getHeaderTop();
    updateScrollOffset(offset);
  }
}
