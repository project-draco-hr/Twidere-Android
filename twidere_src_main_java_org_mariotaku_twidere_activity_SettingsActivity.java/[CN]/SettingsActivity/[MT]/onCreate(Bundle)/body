{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_settings);
  final int backgroundAlpha=getCurrentThemeBackgroundAlpha();
  mDetailFragmentContainer.setBackgroundColor((backgroundAlpha << 24 | 0xFFFFFF) & ThemeUtils.getThemeBackgroundColor(this));
  mSlidingPaneLayout.setShadowResourceLeft(R.drawable.sliding_pane_shadow_left);
  mSlidingPaneLayout.setShadowResourceRight(R.drawable.sliding_pane_shadow_right);
  mSlidingPaneLayout.setSliderFadeColor(0);
  mEntriesAdapter=new EntriesAdapter(this);
  initEntries();
  mEntriesListView.setAdapter(mEntriesAdapter);
  mEntriesListView.setChoiceMode(AbsListView.CHOICE_MODE_SINGLE);
  mEntriesListView.setOnItemClickListener(this);
  if (savedInstanceState == null) {
    String initialTag=getIntent().getStringExtra(EXTRA_INITIAL_TAG);
    int initialItem=-1, firstEntry=-1;
    for (int i=0, j=mEntriesAdapter.getCount(); i < j; i++) {
      Entry entry=mEntriesAdapter.getItem(i);
      if (entry instanceof PreferenceEntry) {
        if (firstEntry == -1) {
          firstEntry=i;
        }
        if (TextUtils.equals(initialTag,((PreferenceEntry)entry).tag)) {
          initialItem=i;
          break;
        }
      }
    }
    if (initialItem == -1) {
      initialItem=firstEntry;
    }
    if (initialItem != -1) {
      openDetails(initialItem);
      mEntriesListView.setItemChecked(initialItem,true);
    }
  }
}
