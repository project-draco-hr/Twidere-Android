{
  final Context context=getActivity();
  final FrameLayout root=new FrameLayout(context);
  final LinearLayout pframe=new LinearLayout(context);
  pframe.setId(INTERNAL_PROGRESS_CONTAINER_ID);
  pframe.setOrientation(LinearLayout.VERTICAL);
  pframe.setVisibility(View.GONE);
  pframe.setGravity(Gravity.CENTER);
  final ProgressBar progress=new ProgressBar(context,null,android.R.attr.progressBarStyleLarge);
  pframe.addView(progress,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT));
  root.addView(pframe,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  final FrameLayout lframe=new FrameLayout(context);
  lframe.setId(INTERNAL_LIST_CONTAINER_ID);
  final TextView tv=new TextView(getActivity());
  tv.setTextAppearance(context,ThemeUtils.getTextAppearanceLarge(context));
  tv.setId(INTERNAL_EMPTY_ID);
  tv.setGravity(Gravity.CENTER);
  lframe.addView(tv,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  final ListView lv=new ListView(getActivity());
  lv.setId(android.R.id.list);
  lv.setDrawSelectorOnTop(false);
  lv.setOnScrollListener(this);
  lframe.addView(lv,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  root.addView(lframe,new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  root.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
  return root;
}
