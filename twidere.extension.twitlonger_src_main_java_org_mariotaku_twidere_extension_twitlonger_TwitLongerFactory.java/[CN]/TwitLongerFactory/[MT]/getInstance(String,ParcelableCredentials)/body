{
  final RestAPIFactory<TwitLongerException> factory=new RestAPIFactory<>();
  factory.setEndpoint(new Endpoint("http://api.twitlonger.com/"));
  factory.setHttpClient(new OkHttpRestClient(new OkHttpClient()));
  factory.setConstantPool(new TwitLongerConstantPool(apiKey,credentials));
  factory.setExceptionFactory(new TwitLongerExceptionFactory());
  factory.setRestConverterFactory(new LoganSquareConverterFactory());
  return factory.build(TwitLonger.class);
}
