{
  if (activity == null || target == null)   return;
  final SharedPreferences prefs=activity.getSharedPreferences(SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE);
  if (!prefs.getBoolean(KEY_SWIPE_BACK,false))   return;
  final TwidereApplication app=TwidereApplication.getInstance(activity);
  final SwipebackScreenshotManager sm=app.getSwipebackScreenshotManager();
  final long key=System.currentTimeMillis();
  final Bitmap sc=getActivityScreenshot(activity,View.DRAWING_CACHE_QUALITY_LOW);
  sm.put(key,sc,ThemeUtils.isTransparentBackground(activity));
  target.putExtra(EXTRA_ACTIVITY_SCREENSHOT_ID,key);
}
