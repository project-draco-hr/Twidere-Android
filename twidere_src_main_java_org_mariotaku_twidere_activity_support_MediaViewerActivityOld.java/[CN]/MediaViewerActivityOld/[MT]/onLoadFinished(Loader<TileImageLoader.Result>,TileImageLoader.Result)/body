{
  if (data.hasData()) {
    mImageView.setVisibility(View.VISIBLE);
    if (data.useDecoder) {
      TileBitmapDrawable.attachTileBitmapDrawable(mImageView,data.file.getAbsolutePath(),null,new OnInitializeListener(){
        @Override public void onStartInitialization(){
        }
        @Override public void onEndInitialization(){
        }
      }
);
    }
 else {
      mImageView.setImageBitmap(data.bitmap);
    }
    mImageFile=data.file;
  }
 else {
    mImageView.setVisibility(View.GONE);
    mImageFile=null;
    Utils.showErrorMessage(this,null,data.exception,true);
  }
  mProgress.setVisibility(View.GONE);
  mProgress.setProgress(0);
  invalidateOptionsMenu();
  updateShareIntent();
}
