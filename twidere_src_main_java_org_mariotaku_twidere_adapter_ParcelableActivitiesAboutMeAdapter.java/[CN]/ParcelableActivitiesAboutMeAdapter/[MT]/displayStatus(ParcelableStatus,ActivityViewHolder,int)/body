{
  final boolean showGap=status.is_gap && !mGapDisallowed && position != getCount() - 1;
  final boolean displayProfileImage=isDisplayProfileImage();
  final Context context=getContext();
  holder.setShowAsGap(showGap);
  holder.name.setVisibility(View.VISIBLE);
  holder.screen_name.setVisibility(View.VISIBLE);
  holder.text.setVisibility(View.VISIBLE);
  holder.profile_image.setVisibility(displayProfileImage ? View.VISIBLE : View.GONE);
  holder.activity_profile_images_container.setVisibility(View.GONE);
  holder.name.setSingleLine(true);
  holder.text.setSingleLine(false);
  if (!showGap) {
    final TwidereLinkify linkify=getLinkify();
    final int highlightOption=getLinkHighlightOption();
    final boolean showAccountColor=isShowAccountColor();
    holder.profile_image.setImageDrawable(null);
    holder.my_profile_image.setImageDrawable(null);
    holder.image_preview.setImageDrawable(null);
    holder.setAccountColorEnabled(showAccountColor);
    if (highlightOption != VALUE_LINK_HIGHLIGHT_OPTION_CODE_NONE) {
      holder.text.setText(Html.fromHtml(status.text_html));
      linkify.applyAllLinks(holder.text,status.account_id,status.is_possibly_sensitive);
      holder.text.setMovementMethod(null);
    }
 else {
      holder.text.setText(status.text_unescaped);
    }
    if (showAccountColor) {
      holder.setAccountColor(getAccountColor(context,status.account_id));
    }
    final boolean isMyStatus=status.account_id == status.user_id;
    final boolean hasMedia=status.first_media != null;
    holder.setUserColor(getUserColor(context,status.user_id));
    holder.setHighlightColor(getCardHighlightColor(false,!mFavoritesHighlightDisabled && status.is_favorite,status.is_retweet));
    holder.setTextSize(getTextSize());
    holder.setIsMyStatus(isMyStatus && !mIndicateMyStatusDisabled);
    holder.setUserType(status.user_is_verified,status.user_is_protected);
    holder.setDisplayNameFirst(isDisplayNameFirst());
    holder.setNicknameOnly(isNicknameOnly());
    final String nick=getUserNickname(context,status.user_id);
    holder.name.setText(TextUtils.isEmpty(nick) ? status.user_name : isNicknameOnly() ? nick : context.getString(R.string.name_with_nickname,status.user_name,nick));
    holder.screen_name.setText("@" + status.user_screen_name);
    if (highlightOption != VALUE_LINK_HIGHLIGHT_OPTION_CODE_NONE) {
      linkify.applyUserProfileLinkNoHighlight(holder.name,status.account_id,status.user_id,status.user_screen_name);
      linkify.applyUserProfileLinkNoHighlight(holder.screen_name,status.account_id,status.user_id,status.user_screen_name);
      holder.name.setMovementMethod(null);
      holder.screen_name.setMovementMethod(null);
    }
    holder.time.setTime(status.timestamp);
    holder.setStatusType(!mFavoritesHighlightDisabled && status.is_favorite,ParcelableLocation.isValidLocation(status.location),hasMedia,status.is_possibly_sensitive);
    holder.setIsReplyRetweet(status.in_reply_to_status_id > 0,status.is_retweet);
    if (status.is_retweet) {
      holder.setRetweetedBy(status.retweet_count,status.retweeted_by_id,status.retweeted_by_name,status.retweeted_by_screen_name);
    }
 else     if (status.in_reply_to_status_id > 0) {
      holder.setReplyTo(status.in_reply_to_user_id,status.in_reply_to_name,status.in_reply_to_screen_name);
    }
    if (displayProfileImage) {
      setProfileImage(holder.my_profile_image,status);
      setProfileImage(holder.profile_image,status);
      holder.profile_image.setTag(position);
      holder.my_profile_image.setTag(position);
    }
 else {
      holder.profile_image.setVisibility(View.GONE);
      holder.my_profile_image.setVisibility(View.GONE);
    }
    final boolean hasPreview=mDisplayImagePreview && hasMedia;
    holder.image_preview_container.setVisibility(hasPreview ? View.VISIBLE : View.GONE);
    if (hasPreview) {
      if (status.is_possibly_sensitive && !mDisplaySensitiveContents) {
        holder.image_preview.setImageDrawable(null);
        holder.image_preview.setBackgroundResource(R.drawable.image_preview_nsfw);
        holder.image_preview_progress.setVisibility(View.GONE);
      }
 else       if (!status.first_media.equals(mImageLoadingHandler.getLoadingUri(holder.image_preview))) {
        holder.image_preview.setBackgroundResource(0);
        final ImageLoaderWrapper imageLoader=getImageLoader();
        imageLoader.displayPreviewImage(holder.image_preview,status.first_media,mImageLoadingHandler);
      }
      holder.image_preview.setTag(position);
    }
  }
}
