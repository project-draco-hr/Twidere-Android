{
  boolean success;
  if (profile.exists()) {
    try {
      final FileOutputStream os=new FileOutputStream(tmp,true);
      final FileInputStream is=new FileInputStream(profile);
      copyStream(is,os);
      is.close();
      os.close();
      success=true;
    }
 catch (    final IOException e) {
      e.printStackTrace();
      success=false;
    }
    if (success && tmp.renameTo(profile) && tmp.delete()) {
      ProfilingUtil.log(context,"put profile back success");
    }
 else {
      ProfilingUtil.log(context,"put profile back failed");
    }
  }
 else {
    if (tmp.renameTo(profile)) {
      ProfilingUtil.log(context,"put profile back success");
    }
 else {
      ProfilingUtil.log(context,"put profile back failed");
    }
  }
}
