{
  menuBar.setOnMenuItemClickListener(this);
  final StatusFragment fragment=adapter.getFragment();
  final FragmentActivity activity=fragment.getActivity();
  final MenuInflater inflater=activity.getMenuInflater();
  final Menu menu=menuBar.getMenu();
  inflater.inflate(R.menu.menu_detail_status,menu);
  final MenuItem favoriteItem=menu.findItem(R.id.favorite);
  final ActionProvider provider=MenuItemCompat.getActionProvider(favoriteItem);
  if (provider instanceof FavoriteItemProvider) {
    final int defaultColor=ThemeUtils.getActionIconColor(activity);
    final FavoriteItemProvider itemProvider=(FavoriteItemProvider)provider;
    itemProvider.setDefaultColor(defaultColor);
    final int favoriteHighlight=ContextCompat.getColor(activity,R.color.highlight_favorite);
    final int likeHighlight=ContextCompat.getColor(activity,R.color.highlight_like);
    final boolean useStar=adapter.shouldUseStarsForLikes();
    itemProvider.setActivatedColor(useStar ? favoriteHighlight : likeHighlight);
    itemProvider.setIcon(useStar ? R.drawable.ic_action_star : R.drawable.ic_action_heart);
    itemProvider.setUseStar(useStar);
    itemProvider.init(menuBar,favoriteItem);
  }
  ThemeUtils.wrapMenuIcon(menuBar,MENU_GROUP_STATUS_SHARE);
  mediaPreviewLoad.setOnClickListener(this);
  profileContainer.setOnClickListener(this);
  quotedNameView.setOnClickListener(this);
  retweetedByView.setOnClickListener(this);
  locationView.setOnClickListener(this);
  quoteOriginalLink.setOnClickListener(this);
  translateLabelView.setOnClickListener(this);
  final float textSize=adapter.getTextSize();
  nameView.setPrimaryTextSize(textSize * 1.25f);
  nameView.setSecondaryTextSize(textSize * 0.85f);
  textView.setTextSize(textSize * 1.25f);
  quotedNameView.setPrimaryTextSize(textSize * 1.25f);
  quotedNameView.setSecondaryTextSize(textSize * 0.85f);
  quotedTextView.setTextSize(textSize * 1.25f);
  quoteOriginalLink.setTextSize(textSize * 0.85f);
  locationView.setTextSize(textSize * 0.85f);
  timeSourceView.setTextSize(textSize * 0.85f);
  translateLabelView.setTextSize(textSize * 0.85f);
  translateResultView.setTextSize(textSize * 1.05f);
  TextView countView=(TextView)countsUsersHeightHolder.findViewById(R.id.count);
  TextView labelView=(TextView)countsUsersHeightHolder.findViewById(R.id.label);
  countView.setTextSize(textSize * 1.25f);
  labelView.setTextSize(textSize * 0.85f);
  nameView.setNameFirst(adapter.isNameFirst());
  quotedNameView.setNameFirst(adapter.isNameFirst());
  mediaPreview.setStyle(adapter.getMediaPreviewStyle());
  quotedTextView.setCustomSelectionActionModeCallback(new StatusActionModeCallback(quotedTextView,activity));
  textView.setCustomSelectionActionModeCallback(new StatusActionModeCallback(textView,activity));
  final LinearLayoutManager layoutManager=new LinearLayoutManager(adapter.getContext());
  layoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);
  countsUsersView.setLayoutManager(layoutManager);
  final CountsUsersAdapter countsUsersAdapter=new CountsUsersAdapter(fragment,adapter);
  countsUsersView.setAdapter(countsUsersAdapter);
  final Resources resources=activity.getResources();
  countsUsersView.addItemDecoration(new SpacingItemDecoration(resources.getDimensionPixelOffset(R.dimen.element_spacing_normal)));
}
