{
  if (!(context instanceof IThemedActivity))   return;
  final int themeRes=((IThemedActivity)context).getCurrentThemeResourceId();
  final int drawerThemeRes=getDrawerThemeResource(themeRes);
  final String backgroundOption=((IThemedActivity)context).getThemeBackgroundOption();
  final int alpha=((IThemedActivity)context).getCurrentThemeBackgroundAlpha();
  final Drawable d;
  if (isSolidBackground(backgroundOption)) {
    d=new ColorDrawable(isDarkTheme(themeRes) ? Color.BLACK : Color.WHITE);
  }
 else {
    d=getWindowBackgroundFromTheme(context,drawerThemeRes);
  }
  if (d == null)   throw new NullPointerException();
  d.mutate();
  if (isTransparentBackground(backgroundOption)) {
    d.setAlpha(alpha);
  }
  ViewSupport.setBackground(view,d);
}
