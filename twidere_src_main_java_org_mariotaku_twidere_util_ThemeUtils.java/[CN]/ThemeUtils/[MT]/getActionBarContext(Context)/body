{
  @SuppressLint("InlinedApi") final TypedArray a=context.obtainStyledAttributes(new int[]{R.attr.actionBarTheme,R.attr.actionBarWidgetTheme,android.R.attr.actionBarTheme,android.R.attr.actionBarWidgetTheme});
  final int resId;
  if (a.hasValue(0) || a.hasValue(1)) {
    resId=a.hasValue(0) ? a.getResourceId(0,0) : a.getResourceId(1,0);
  }
 else {
    resId=a.hasValue(2) ? a.getResourceId(2,0) : a.getResourceId(3,0);
  }
  a.recycle();
  if (resId == 0)   return context;
  return new ContextThemeWrapper(context,resId);
}
