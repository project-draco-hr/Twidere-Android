{
  final TypedArray a=context.obtainStyledAttributes(new int[]{android.R.attr.actionBarTheme,android.R.attr.actionBarWidgetTheme});
  final int resId;
  try {
    resId=a.hasValue(0) ? a.getResourceId(0,0) : a.getResourceId(1,0);
  }
  finally {
    a.recycle();
  }
  if (resId == 0)   return context;
  return new ContextThemeWrapper(context,resId);
}
