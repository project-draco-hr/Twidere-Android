{
  final TextView actionBarTitleView=(TextView)contextView.findViewById(android.support.v7.appcompat.R.id.action_bar_title);
  final TextView actionBarSubtitleView=(TextView)contextView.findViewById(android.support.v7.appcompat.R.id.action_bar_subtitle);
  final ImageView actionModeCloseButton=(ImageView)contextView.findViewById(android.support.v7.appcompat.R.id.action_mode_close_button);
  final ActionMenuView menuView=ViewSupport.findViewByType(contextView,ActionMenuView.class);
  final int actionBarColor;
  if (isDarkTheme(themeRes)) {
    actionBarColor=context.getResources().getColor(R.color.background_color_action_bar_dark);
  }
 else {
    actionBarColor=accentColor;
  }
  final int titleColor=getContrastActionBarTitleColor(context,themeRes,actionBarColor);
  final int itemColor=getContrastActionBarItemColor(context,themeRes,actionBarColor);
  if (actionBarTitleView != null) {
    actionBarTitleView.setTextColor(titleColor);
  }
  if (actionBarSubtitleView != null) {
    actionBarSubtitleView.setTextColor(titleColor);
  }
  if (actionModeCloseButton != null) {
    actionModeCloseButton.setColorFilter(itemColor,Mode.SRC_ATOP);
  }
  if (menuView != null) {
    setActionBarOverflowColor(menuView,itemColor);
    ThemeUtils.wrapToolbarMenuIcon(menuView,itemColor,itemColor);
  }
  ViewSupport.setBackground(contextView,getActionBarBackground(context,themeRes,accentColor,backgroundOption,outlineEnabled));
}
