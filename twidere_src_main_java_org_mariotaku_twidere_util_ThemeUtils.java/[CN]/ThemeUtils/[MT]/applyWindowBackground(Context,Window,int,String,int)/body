{
  if (isWindowFloating(context,theme))   return;
  final int normalTheme=getThemeResource(theme);
  if (VALUE_THEME_BACKGROUND_TRANSPARENT.equals(option)) {
    window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WALLPAPER);
    window.setBackgroundDrawable(getWindowBackgroundFromThemeApplyAlpha(context,normalTheme,alpha));
  }
 else   if (VALUE_THEME_BACKGROUND_SOLID.equals(option)) {
    window.setBackgroundDrawable(new ColorDrawable(isDarkTheme(normalTheme) ? Color.BLACK : Color.WHITE));
  }
 else {
    window.setBackgroundDrawable(getWindowBackgroundFromTheme(context,normalTheme));
  }
}
