{
  mFlags&=~FLAG_NEED_LAYOUT;
  int w=getWidth();
  int h=getHeight();
  final int displayRotation=0;
  final int compensation=0;
  if (mCompensation != compensation) {
    mCompensation=compensation;
    if (mCompensation % 180 != 0) {
      mCompensationMatrix.setRotate(mCompensation);
      mCompensationMatrix.preTranslate(-w / 2,-h / 2);
      mCompensationMatrix.postTranslate(h / 2,w / 2);
    }
 else {
      mCompensationMatrix.setRotate(mCompensation,w / 2,h / 2);
    }
  }
  mDisplayRotation=displayRotation;
  if (mCompensation % 180 != 0) {
    final int tmp=w;
    w=h;
    h=tmp;
  }
  Log.i(TAG,"layout content pane " + w + "x"+ h+ " (compensation "+ mCompensation+ ")");
  if (mContentView != null && w != 0 && h != 0) {
    mContentView.layout(0,0,w,h);
  }
}
