{
  super.onCreate(savedInstanceState);
  final Uri uri=getIntent().getData();
  if (uri == null || !AUTHORITY_MAP.equals(uri.getAuthority())) {
    finish();
    return;
  }
  final Bundle bundle=new Bundle();
  final double latitude=ParseUtils.parseDouble(uri.getQueryParameter(QUERY_PARAM_LAT),Double.NaN);
  final double longitude=ParseUtils.parseDouble(uri.getQueryParameter(QUERY_PARAM_LNG),Double.NaN);
  if (Double.isNaN(latitude) || Double.isNaN(longitude)) {
    finish();
    return;
  }
  try {
    bundle.putDouble(EXTRA_LATITUDE,latitude);
    bundle.putDouble(EXTRA_LONGITUDE,longitude);
  }
 catch (  final NumberFormatException e) {
    finish();
    return;
  }
  final ActionBar actionBar=getActionBar();
  if (actionBar != null) {
    actionBar.setDisplayHomeAsUpEnabled(true);
  }
  final Fragment fragment=isNativeMapSupported() ? new GoogleMapFragment() : new WebMapFragment();
  fragment.setArguments(bundle);
  final FragmentTransaction ft=getSupportFragmentManager().beginTransaction();
  ft.replace(android.R.id.content,fragment).commit();
}
