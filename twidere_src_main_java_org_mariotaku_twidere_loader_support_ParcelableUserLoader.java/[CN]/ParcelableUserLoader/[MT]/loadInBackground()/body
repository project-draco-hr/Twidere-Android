{
  final Context context=getContext();
  final ContentResolver resolver=context.getContentResolver();
  if (!mOmitIntentExtra && mExtras != null) {
    final ParcelableUser user=mExtras.getParcelable(EXTRA_USER);
    if (user != null) {
      final ContentValues values=ParcelableUser.makeCachedUserContentValues(user);
      resolver.delete(CachedUsers.CONTENT_URI,CachedUsers.USER_ID + " = " + user.id,null);
      resolver.insert(CachedUsers.CONTENT_URI,values);
      return SingleResponse.getInstance(user);
    }
  }
  final Twitter twitter=getTwitterInstance(context,mAccountId,true);
  if (twitter == null)   return SingleResponse.getInstance();
  if (mLoadFromCache) {
    final String where=CachedUsers.USER_ID + " = " + mUserId+ " OR "+ CachedUsers.SCREEN_NAME+ " = '"+ mScreenName+ "'";
    final Cursor cur=resolver.query(CachedUsers.CONTENT_URI,CachedUsers.COLUMNS,where,null,null);
    final int count=cur.getCount();
    try {
      if (count > 0) {
        cur.moveToFirst();
        return SingleResponse.getInstance(new ParcelableUser(cur,mAccountId));
      }
    }
  finally {
      cur.close();
    }
  }
  try {
    final User user=TwitterWrapper.tryShowUser(twitter,mUserId,mScreenName);
    if (user == null)     return SingleResponse.getInstance();
    final ContentValues cachedUserValues=makeCachedUserContentValues(user);
    final long userId=user.getId();
    final String cachedUserWhere=Expression.equals(CachedUsers.USER_ID,userId).getSQL();
    resolver.delete(CachedUsers.CONTENT_URI,cachedUserWhere,null);
    resolver.insert(CachedUsers.CONTENT_URI,cachedUserValues);
    final ParcelableUser result=new ParcelableUser(user,mAccountId);
    if (isMyAccount(context,userId)) {
      final ContentValues accountValues=new ContentValues();
      accountValues.put(Accounts.NAME,result.name);
      accountValues.put(Accounts.SCREEN_NAME,result.screen_name);
      accountValues.put(Accounts.PROFILE_IMAGE_URL,result.profile_image_url);
      accountValues.put(Accounts.PROFILE_BANNER_URL,result.profile_banner_url);
      final String accountWhere=Expression.equals(Accounts.ACCOUNT_ID,userId).getSQL();
      resolver.update(Accounts.CONTENT_URI,accountValues,accountWhere,null);
    }
    return SingleResponse.getInstance(result);
  }
 catch (  final TwitterException e) {
    return SingleResponse.getInstance(e);
  }
}
