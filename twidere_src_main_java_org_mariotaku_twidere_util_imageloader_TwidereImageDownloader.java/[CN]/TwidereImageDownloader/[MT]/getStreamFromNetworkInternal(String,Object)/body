{
  final Uri uri=Uri.parse(uriString);
  final Authorization auth;
  final ParcelableCredentials account;
  if (isTwitterAuthRequired(uri) && extras instanceof AccountExtra) {
    final AccountExtra accountExtra=(AccountExtra)extras;
    account=ParcelableAccount.getCredentials(mContext,accountExtra.account_id);
    auth=TwitterAPIUtils.getAuthorization(account);
  }
 else {
    account=null;
    auth=null;
  }
  String modifiedUri=getReplacedUri(uri,account != null ? account.api_url_format : null);
  if (mThumbor != null) {
    modifiedUri=mThumbor.buildImage(modifiedUri).filter(ThumborUrlBuilder.quality(85)).toUrl();
  }
  final List<Pair<String,String>> additionalHeaders=new ArrayList<>();
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {
    additionalHeaders.add(Pair.create("Accept","image/webp, */*"));
  }
  if (auth != null && auth.hasAuthorization()) {
  }
  final RestResponse resp=mClient.execute(new RestRequest.Builder().method(GET.METHOD).url(modifiedUri).headers(additionalHeaders).build());
  final TypedData body=resp.getBody();
  return new ContentLengthInputStream(body.stream(),(int)body.length());
}
